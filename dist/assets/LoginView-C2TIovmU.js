import{d as x,r as o,c as r,o as d,a as s,b as y,w as m,v as p,e as f,f as w,t as h,g as k,u as _}from"./index-COqVfnXd.js";import{l as S,c as V}from"./http-CfBk4xsK.js";const z={class:"min-h-[100svh] grid place-items-center bg-white-50 dark:bg-zinc-950"},C={class:"space-y-1"},E={class:"space-y-1"},M={class:"flex items-center gap-2 text-sm"},B={key:0,class:"text-sm text-red-600"},N=["disabled"],U={key:0},q={key:1,class:"inline-flex items-center gap-2"},R=x({__name:"LoginView",setup(D){const v=_(),a=o(""),u=o(""),c=o(!0),l=o(!1),n=o("");async function b(){n.value="",l.value=!0;try{const i=await S(),e=V(i.api_url),t={email:a.value,senha:u.value},{data:g}=await e.post("signin/web-admin",t);c.value&&a.value&&localStorage.setItem("loginEmail",a.value),localStorage.setItem("authResult",JSON.stringify(g)),v.push("/dashboard")}catch(i){n.value="Credenciais inválidas ou erro de conexão.",console.error("[login][error]",i)}finally{l.value=!1}}return(i,e)=>(d(),r("main",z,[s("form",{class:"card w-full max-w-sm space-y-4 p-6 bg-white",onSubmit:k(b,["prevent"])},[e[7]||(e[7]=s("header",{class:"space-y-1"},[s("h1",{class:"text-xl font-semibold"},"Acessar painel"),s("p",{class:"text-sm text-zinc-600 dark:text-zinc-400"},"Use seu e‑mail e senha para entrar")],-1)),s("div",C,[e[3]||(e[3]=s("label",{class:"text-sm font-medium",for:"email"},"E‑mail",-1)),m(s("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=t=>a.value=t),type:"email",required:"",class:"w-full rounded-md border px-3 py-2 outline-none ring-1 ring-zinc-200 focus:ring-brand-500"},null,512),[[p,a.value]])]),s("div",E,[e[4]||(e[4]=s("label",{class:"text-sm font-medium",for:"password"},"Senha",-1)),m(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=t=>u.value=t),type:"password",required:"",class:"w-full rounded-md border px-3 py-2 outline-none ring-1 ring-zinc-200 focus:ring-brand-500"},null,512),[[p,u.value]])]),s("label",M,[m(s("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=t=>c.value=t)},null,512),[[w,c.value]]),e[5]||(e[5]=f(" Lembrar e‑mail",-1))]),n.value?(d(),r("p",B,h(n.value),1)):y("",!0),s("button",{type:"submit",class:"btn btn-primary w-full",disabled:l.value},[l.value?(d(),r("span",q,[...e[6]||(e[6]=[s("svg",{class:"size-4 animate-spin",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10","stroke-width":"4"}),s("path",{class:"opacity-75",d:"M4 12a8 8 0 018-8","stroke-width":"4"})],-1),f(" Entrando... ",-1)])])):(d(),r("span",U,"Entrar"))],8,N)],32)]))}});export{R as default};
