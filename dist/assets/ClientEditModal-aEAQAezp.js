import{r as P,x as He,s as j,c as r,b as $,o as c,k as M,m as he,T as Ce,g as Ge,y as F,a as l,t as m,e as G,_ as J,w as u,v as b,z as R,f as Ft,F as L,B as T,H as ve,E as Je}from"./index-COqVfnXd.js";import{c as Rt}from"./api-DJGMUGZv.js";import{l as Ot}from"./http-CfBk4xsK.js";import{A as _}from"./AppConstants-096u6u1O.js";import{_ as Dt}from"./_plugin-vue_export-helper-DlAUqK2U.js";async function V(){const a=await Ot();return Rt(a.api_url)}async function Mt(a){const n=await V(),{data:v}=await n.get(_.API_CLIENTS,{params:a});return v}async function qt(a,n){const v=await V(),{data:x}=await v.get(`${_.API_CLIENTS_DETAIL}/${a}`,{params:n});return x}async function Bt(a,n){const v=await V(),{data:x}=await v.post(_.API_CLIENTS,a,{params:n});return x}async function Ht(a,n){const v=await V(),{data:x}=await v.put(_.API_CLIENTS,a,{params:n});return x}async function Qe(a,n){const v=await V(),{data:x}=await v.get(`${_.API_CLIENTS_DETAIL_UNIT_LOCATION}/${a}`,{params:n});return x}async function Gt(a,n){const v=await V(),{data:x}=await v.get(`${_.API_CLIENTS_UNIT_SEL}/${a}`,{params:n});return x}async function ee(a,n,v,x){var q;const k=await V();let S;for(const Z of n)try{let O;return a==="get"?{data:O}=await k.get(Z,{params:x}):a==="delete"?{data:O}=await k.delete(Z,{params:x}):{data:O}=await k[a](Z,v,{params:x}),O}catch(O){S=O;const w=(q=O==null?void 0:O.response)==null?void 0:q.status;if(w!==404&&w!==405)throw O}throw S}async function Ne(a,n,v){const x=await V(),k={idCliente:a,nome:(n==null?void 0:n.nome)??"",responsavel:(n==null?void 0:n.responsavel)??"",telefone:(n==null?void 0:n.telefone)??"",email:(n==null?void 0:n.email)??"",endereco:(n==null?void 0:n.endereco)??"",cep:(n==null?void 0:n.cep)??"",bairro:(n==null?void 0:n.bairro)??"",cidade:(n==null?void 0:n.cidade)??"",uf:(n==null?void 0:n.uf)??"",numero:(n==null?void 0:n.numero)??"",complemento:(n==null?void 0:n.complemento)??"",regiao:(n==null?void 0:n.regiao)??"",qr_code_fixo:(n==null?void 0:n.qr_code_fixo)??!!(n!=null&&n.qrcode_fixo)},{data:S}=await x.post(_.API_CLIENTS_UNIT_LOCATION,k,{params:v});return S}async function Ze(a,n,v){const x=await V(),k={id:a,idCliente:n==null?void 0:n.idCliente,nome:(n==null?void 0:n.nome)??"",responsavel:(n==null?void 0:n.responsavel)??"",telefone:(n==null?void 0:n.telefone)??"",email:(n==null?void 0:n.email)??"",endereco:(n==null?void 0:n.endereco)??"",cep:(n==null?void 0:n.cep)??"",bairro:(n==null?void 0:n.bairro)??"",cidade:(n==null?void 0:n.cidade)??"",uf:(n==null?void 0:n.uf)??"",numero:(n==null?void 0:n.numero)??"",complemento:(n==null?void 0:n.complemento)??"",regiao:(n==null?void 0:n.regiao)??"",qr_code_fixo:(n==null?void 0:n.qr_code_fixo)??!!(n!=null&&n.qrcode_fixo)},{data:S}=await x.put(_.API_CLIENTS_UNIT_LOCATION,k,{params:v});return S}async function Ke(a,n){const v={idCliente:a==null?void 0:a.idCliente,id_unidade:(a==null?void 0:a.id_unidade)??(a==null?void 0:a.local_id)??(a==null?void 0:a.unidade_id),nome:(a==null?void 0:a.nome)??(a==null?void 0:a.setor)??""};return await ee("post",[_.API_CLIENT_SECTORS],v,n)}async function Xe(a,n){const v={id:a==null?void 0:a.id,idCliente:a==null?void 0:a.idCliente,id_unidade:(a==null?void 0:a.id_unidade)??(a==null?void 0:a.local_id)??(a==null?void 0:a.unidade_id),nome:(a==null?void 0:a.nome)??(a==null?void 0:a.setor)??""};return await ee("put",[_.API_CLIENT_SECTORS],v,n)}async function We(a,n){return await ee("delete",[`${_.API_CLIENT_SECTORS}/${a}`,`${_.API_CLIENTS_SECTOR}/${a}`,`${_.API_CLIENTS_SECTORS}/${a}`,`webadmin/cliente/setor/${a}`],null,n)}async function Ye(a,n){const v={idCliente:a==null?void 0:a.idCliente,local:a==null?void 0:a.local,setor:a==null?void 0:a.setor,atividade:a==null?void 0:a.atividade,funcao:a==null?void 0:a.funcao,uniforme:a==null?void 0:a.uniforme,medicao:a==null?void 0:a.medicao,cargaHoras:a==null?void 0:a.cargaHoras,maximoAdic:a==null?void 0:a.maximoAdic,horaNorProf:a==null?void 0:a.horaNorProf,extraProf:a==null?void 0:a.extraProf,noturnoProf:a==null?void 0:a.noturnoProf,extraNotProf:a==null?void 0:a.extraNotProf,horaNorCli:a==null?void 0:a.horaNorCli,extraCli:a==null?void 0:a.extraCli,noturnoCli:a==null?void 0:a.noturnoCli,extraNotCli:a==null?void 0:a.extraNotCli};return await ee("post",[`${_.API_CLIENTS}/${a==null?void 0:a.idCliente}/funcoes`,_.API_CLIENTS_FUNCTION,_.API_CLIENTS_FUNCTIONS],v,n)}async function et(a,n){return await Ye(a,n)}async function tt(a,n){const v={id:a==null?void 0:a.id,idCliente:a==null?void 0:a.idCliente,local:a==null?void 0:a.local,setor:a==null?void 0:a.setor,atividade:a==null?void 0:a.atividade,funcao:a==null?void 0:a.funcao,uniforme:a==null?void 0:a.uniforme,medicao:a==null?void 0:a.medicao,cargaHoras:a==null?void 0:a.cargaHoras,maximoAdic:a==null?void 0:a.maximoAdic,horaNorProf:a==null?void 0:a.horaNorProf,extraProf:a==null?void 0:a.extraProf,noturnoProf:a==null?void 0:a.noturnoProf,extraNotProf:a==null?void 0:a.extraNotProf,horaNorCli:a==null?void 0:a.horaNorCli,extraCli:a==null?void 0:a.extraCli,noturnoCli:a==null?void 0:a.noturnoCli,extraNotCli:a==null?void 0:a.extraNotCli};return await ee("put",[`${_.API_CLIENTS}/${a==null?void 0:a.idCliente}/funcoes/${a==null?void 0:a.id}`,_.API_CLIENTS_FUNCTION,_.API_CLIENTS_FUNCTIONS],v,n)}async function Jt(a,n,v){return await ee("delete",[`${_.API_CLIENTS}/${a}/funcoes/${n}`,`${_.API_CLIENTS_FUNCTIONS}/${n}`,`${_.API_CLIENTS_FUNCTION}/${n}`],null,v)}async function Qt(a,n){const v=await V(),x={...a},{data:k}=await v.post(_.API_CLIENTS_USERS,x,{params:n});return k}async function Zt(a,n){const v=await V(),x={...a},{data:k}=await v.put(_.API_CLIENTS_USERS,x,{params:n});return k}async function Kt(a,n,v){const x=await V(),{data:k}=await x.delete(`${_.API_CLIENTS_USERS}/${a}/${n}`,{params:v});return k}async function Xt(a,n){const v=await V(),x={...a},{data:k}=await v.post(_.API_CLIENTS_MANAGERS,x,{params:n});return k}async function Wt(a,n){const v=await V(),x={...a},{data:k}=await v.put(_.API_CLIENTS_MANAGERS,x,{params:n});return k}async function Yt(a,n){const v=await V(),{data:x}=await v.delete(`${_.API_CLIENTS_MANAGERS}/${a}`,{params:n});return x}async function lt(a,n){return await ee("delete",[`webadmin/clientes/unidades/${a}`,`webadmin/clientes/unidade/${a}`,`webadmin/cliente/unidades/${a}`,`webadmin/cliente/unidade/${a}`,`webadmin/unidades/${a}`,`webadmin/unidade/${a}`],null,n)}async function Ae(a){const n=await V(),{data:v}=await n.get(_.API_CLIENTS_TAX_SITUATION,{params:a});return v}async function ke(a,n){const v=await V(),{data:x}=await v.get(`${_.API_CLIENTS_SECTORS}/${a}`,{params:n});return x}async function Ie(a,n){return await ee("get",[`${_.API_CLIENTS}/${a}/funcoes`,`${_.API_CLIENTS_FUNCTIONS}/${a}`],null,n)}async function at(a){const n=await V(),{data:v}=await n.get(_.API_CLIENTS_ACTIVITIES,{params:a}),x=(v==null?void 0:v.apoio_funcao)??(v==null?void 0:v.data)??(v==null?void 0:v.rows)??v;return(Array.isArray(x)?x:[]).map((S,q)=>{if(typeof S!="object"||S===null)return{value:String(q+1),text:String(S)};const Z=S.value??S.id??S.codigo??q+1,O=S.text??S.profissao??S.nome??S.name??S.label??JSON.stringify(S);return{value:Z,text:O}})}async function ot(a,n){const v=await V(),{data:x}=await v.get(`${_.API_CLIENTS_USERS}/${a}`,{params:n});return x}async function st(a,n){const v=await V(),{data:x}=await v.get(`${_.API_CLIENTS_MANAGERS}/${a}`,{params:n});return x}const be={setores:new Map,funcoes:new Map};async function nt(a,n){if(!a)return[];if(be.setores.has(a))return be.setores.get(a);const v=await V(),{data:x}=await v.get(`webadmin/clientes/usuarios/setores/${a}`,{params:n}),k=(x==null?void 0:x.data)||(x==null?void 0:x.rows)||x||[];return be.setores.set(a,k),k}async function el(a,n,v){if(!a||!n)return[];const x=`${a}|${n}`;if(be.funcoes.has(x))return be.funcoes.get(x);const k=await V(),{data:S}=await k.get("webadmin/clientes/funcoes",{params:{...Object.fromEntries(v??[]),local_id:a,setor:n}}),q=(S==null?void 0:S.data)||(S==null?void 0:S.rows)||S||[];return be.funcoes.set(x,q),q}async function it(a){const n=await V(),{data:v}=await n.get(_.API_REGIONS,{params:a});return v}const qn=Object.freeze(Object.defineProperty({__proto__:null,createClient:Bt,createClientFunction:et,createClientFuntion:Ye,createClientManagers:Xt,createClientSector:Ke,createClientUnit:Ne,createClientUsers:Qt,deleteClientFunction:Jt,deleteClientManagers:Yt,deleteClientSector:We,deleteClientUnit:lt,deleteClientUsers:Kt,findClientFunctions:Ie,findClientManagers:st,findClientSector:ke,findClientUnitLocation:Qe,findClientUnitSel:Gt,findClientUsers:ot,findTaxSituation:Ae,getClient:qt,listAtividades:at,listClients:Mt,listFuncoes:el,listRegioes:it,listSetores:nt,updateClient:Ht,updateClientFunction:tt,updateClientManagers:Wt,updateClientSector:Xe,updateClientUnit:Ze,updateClientUsers:Zt},Symbol.toStringTag,{value:"Module"})),tl={key:0,class:"sticky top-0 z-10 mb-0 flex items-center justify-between border-b bg-white/80 p-3 backdrop-blur dark:bg-zinc-900/80"},ll={class:"text-base font-semibold truncate"},al={key:1,class:"absolute inset-0 z-20 grid place-items-center bg-white/60"},ol={class:"w-56 shrink-0 border-r p-3 dark:border-zinc-800 dark:bg-zinc-800/40"},sl={class:"flex flex-col gap-1 text-sm"},nl={class:"flex-1 overflow-y-auto relative"},il={class:"p-4"},dl={key:0,class:"grid grid-cols-1 gap-3 sm:grid-cols-6"},ul={class:"flex flex-col sm:col-span-3"},rl={class:"flex flex-col sm:col-span-3"},cl={class:"flex flex-col sm:col-span-2"},pl={class:"flex flex-col sm:col-span-2"},vl={class:"flex flex-col sm:col-span-2"},bl={class:"flex flex-col sm:col-span-2"},xl={class:"flex flex-col sm:col-span-2"},ml={class:"flex flex-col sm:col-span-2"},fl={class:"sm:col-span-6 flex justify-end gap-2 pt-3 border-t mt-2"},gl={key:1,class:"grid grid-cols-1 gap-3 sm:grid-cols-6"},wl={class:"flex flex-col sm:col-span-4"},yl={class:"flex flex-col sm:col-span-1"},_l={class:"flex flex-col sm:col-span-1"},hl={class:"sm:col-span-6 flex justify-end gap-2 pt-3 border-t mt-2"},Cl={key:2,class:"space-y-2 relative"},kl={class:"grid grid-cols-1 gap-3 sm:grid-cols-6"},Sl={class:"flex flex-col sm:col-span-2"},zl={class:"flex flex-col sm:col-span-2"},$l={class:"switch sm:col-span-2"},Ul={class:"flex flex-col sm:col-span-2"},Nl={class:"flex flex-col sm:col-span-3"},Al=["value"],Il={class:"flex flex-col sm:col-span-6"},Pl={class:"sm:col-span-6 flex justify-end gap-2 pt-3 border-t mt-2"},Vl={key:3,class:"space-y-2 relative"},El={class:"flex items-center justify-between"},Ll={key:0,class:"rounded border border-dashed p-6 text-center text-sm text-zinc-500"},Tl={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},jl={class:"mb-2 flex items-center justify-between"},Fl={class:"min-w-0 flex flex-wrap items-center gap-2"},Rl={key:0,class:"rounded bg-blue-50 px-1.5 py-0.5 text-[10px] font-medium text-blue-700"},Ol={key:1,class:"rounded border px-1.5 py-0.5 text-[10px] text-zinc-600"},Dl={key:2,class:"rounded border px-1.5 py-0.5 text-[10px] text-zinc-600"},Ml={class:"relative"},ql=["onClick"],Bl={key:0,class:"absolute right-0 mt-1 w-36 rounded-md border bg-white p-1 text-sm shadow-lg dark:border-zinc-700 dark:bg-zinc-900 z-10"},Hl=["onClick"],Gl=["onClick"],Jl={class:"text-xs text-zinc-600 space-y-1"},Ql={class:"flex justify-between text-sm font-medium"},Zl={class:"flex justify-between"},Kl={class:"flex justify-between"},Xl={class:"flex justify-between"},Wl={key:4,class:"space-y-2"},Yl={class:"flex items-center justify-between"},ea={key:0,class:"rounded border border-dashed p-6 text-center text-sm text-zinc-500"},ta={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},la={class:"mb-2 flex items-center justify-between"},aa={class:"min-w-0 flex flex-wrap items-center gap-2"},oa={class:"text-sm truncate"},sa={key:0,class:"rounded border px-1.5 py-0.5 text-[10px] text-zinc-600"},na={class:"relative"},ia=["onClick"],da={key:0,class:"absolute right-0 mt-1 w-36 rounded-md border bg-white p-1 text-sm shadow-lg dark:border-zinc-700 dark:bg-zinc-900 z-10"},ua=["onClick"],ra=["onClick"],ca=["onClick"],pa={key:0,class:"space-y-2"},va={class:"flex items-center gap-2"},ba=["onUpdate:modelValue","onChange"],xa=["value"],ma={class:"flex items-center gap-2"},fa=["onUpdate:modelValue"],ga={key:0,disabled:""},wa={key:1,disabled:""},ya=["value"],_a={class:"flex justify-end gap-2"},ha={key:1,class:"text-xs text-zinc-600 space-y-1"},Ca={class:"flex justify-between"},ka={class:"flex justify-between"},Sa={key:5,class:"space-y-2"},za={class:"flex items-center justify-between"},$a={key:0,class:"rounded border border-dashed p-6 text-center text-sm text-zinc-500"},Ua={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},Na={class:"mb-2 flex items-center justify-between"},Aa={class:"min-w-0 flex flex-wrap items-center gap-2"},Ia={class:"text-sm truncate"},Pa={key:0,class:"rounded border px-1.5 py-0.5 text-[10px] text-zinc-600"},Va={key:1,class:"rounded border px-1.5 py-0.5 text-[10px] text-zinc-600"},Ea={class:"relative"},La=["onClick"],Ta={key:0,class:"absolute right-0 mt-1 w-36 rounded-md border bg-white p-1 text-sm shadow-lg dark:border-zinc-700 dark:bg-zinc-900 z-10"},ja=["onClick"],Fa=["onClick"],Ra=["onClick"],Oa={key:0,class:"grid grid-cols-1 gap-2"},Da={class:"flex items-center gap-2"},Ma=["onUpdate:modelValue","onChange"],qa=["value"],Ba={class:"flex items-center gap-2"},Ha=["onUpdate:modelValue"],Ga=["value"],Ja={class:"grid grid-cols-1 sm:grid-cols-3 gap-2"},Qa=["onUpdate:modelValue"],Za=["value"],Ka=["onUpdate:modelValue"],Xa=["onUpdate:modelValue"],Wa={class:"grid grid-cols-1 sm:grid-cols-3 gap-2"},Ya=["onUpdate:modelValue"],eo=["onUpdate:modelValue"],to=["onUpdate:modelValue"],lo={class:"grid grid-cols-1 sm:grid-cols-3 gap-2"},ao=["onUpdate:modelValue"],oo=["onUpdate:modelValue"],so=["onUpdate:modelValue"],no={class:"grid grid-cols-1 sm:grid-cols-3 gap-2"},io=["onUpdate:modelValue"],uo=["onUpdate:modelValue"],ro=["onUpdate:modelValue"],co={class:"flex justify-end gap-2"},po={key:1,class:"text-xs text-zinc-600 space-y-1"},vo={class:"flex justify-between"},bo={class:"flex justify-between"},xo={class:"flex justify-between"},mo={class:"truncate max-w-[12rem]"},fo={class:"flex justify-between"},go={class:"flex justify-between"},wo={class:"flex justify-between"},yo={class:"truncate max-w-[12rem]"},_o={key:6,class:"space-y-2"},ho={key:0,class:"rounded border border-dashed p-6 text-center text-sm text-zinc-500"},Co={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},ko={class:"mb-2 flex items-center justify-between"},So={class:"min-w-0 flex flex-wrap items-center gap-2"},zo={class:"text-sm truncate"},$o={key:0,class:"rounded bg-green-50 px-1.5 py-0.5 text-[10px] font-medium text-green-700"},Uo={class:"relative"},No=["onClick"],Ao={key:0,class:"absolute right-0 mt-1 w-36 rounded-md border bg-white p-1 text-sm shadow-lg dark:border-zinc-700 dark:bg-zinc-900 z-10"},Io=["onClick"],Po=["onClick"],Vo=["onClick"];const Eo={key:1,class:"text-xs text-zinc-600 space-y-1"},Lo={class:"flex justify-between"},To={class:"truncate max-w-[12rem]"},jo={class:"flex justify-between"},Fo={class:"flex justify-between"},Ro={class:"truncate max-w-[12rem]"},Oo={key:0,class:"fixed inset-0 z-50"},Do={class:"absolute right-0 top-0 h-full w-full sm:w-[480px] lg:w-[640px] bg-white dark:bg-zinc-900 border-l shadow-xl flex flex-col"},Mo={class:"flex items-center justify-between p-3 border-b sticky top-0 bg-white/95 dark:bg-zinc-900/95 z-10"},qo={class:"text-base font-semibold truncate"},Bo={class:"p-4 space-y-3 overflow-y-auto"},Ho={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},Go={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},Jo=["value"],Qo={class:"flex gap-4 mt-1"},Zo={class:"inline-flex items-center gap-2"},Ko={class:"inline-flex items-center gap-2"},Xo={key:1,class:"absolute inset-y-0 right-0 z-40 w-[420px] max-w-[60%] bg-gray-100 dark:bg-zinc-900 border-l shadow-xl flex flex-col"},Wo={class:"flex items-center justify-between p-2 border-b sticky top-0 bg-white/95 dark:bg-zinc-900/95 z-10"},Yo={class:"text-sm font-semibold truncate"},es={class:"p-3 space-y-2 overflow-y-auto"},ts=["value"],ls={class:"flex gap-4 mt-1"},as={class:"inline-flex items-center gap-2"},os={class:"inline-flex items-center gap-2"},ss={key:7,class:"space-y-2"},ns={class:"flex items-center justify-between"},is={key:0,class:"rounded border border-dashed p-6 text-center text-sm text-zinc-500"},ds={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},us={class:"mb-2 flex items-center justify-between"},rs={class:"min-w-0 flex flex-wrap items-center gap-2"},cs={class:"text-sm truncate"},ps={key:0,class:"rounded border px-1.5 py-0.5 text-[10px] text-zinc-600"},vs={key:1,class:"rounded border px-1.5 py-0.5 text-[10px] text-zinc-600"},bs={class:"relative"},xs=["onClick"],ms={key:0,class:"absolute right-0 mt-1 w-36 rounded-md border bg-white p-1 text-sm shadow-lg dark:border-zinc-700 dark:bg-zinc-900 z-10"},fs=["onClick"],gs=["onClick"],ws=["onClick"],ys={key:0,class:"space-y-2"},_s=["onUpdate:modelValue"],hs=["onUpdate:modelValue"],Cs=["onUpdate:modelValue"],ks=["onUpdate:modelValue"],Ss={class:"grid grid-cols-2 gap-2"},zs=["onUpdate:modelValue"],$s=["onUpdate:modelValue"],Us={class:"flex justify-end gap-2"},Ns={key:1,class:"text-xs text-zinc-600 space-y-1"},As={class:"flex justify-between"},Is={class:"flex justify-between"},Ps={class:"flex justify-between"},Vs={class:"truncate max-w-[12rem]"},Es={class:"flex justify-between"},Ls={key:0,class:"fixed inset-0 z-50"},Ts={class:"absolute right-0 top-0 h-full w-full sm:w-[420px] lg:w-[560px] bg-white dark:bg-zinc-900 shadow-xl flex flex-col"},js={class:"flex items-center justify-between p-6 pb-0 sticky top-0 bg-white/95 dark:bg-zinc-900/95 z-10"},Fs={class:"text-base font-semibold truncate"},Rs={class:"p-6 space-y-3 overflow-y-auto"},Os={class:"grid grid-cols-2 gap-2"},Ds={class:"grid grid-cols-[1fr_auto] gap-2 items-center"},Ms={class:"relative"},qs={class:"grid grid-cols-6 gap-2"},Bs={class:"grid grid-cols-2 gap-2"},Hs={class:"flex items-center justify-between py-1"},Gs={key:1,class:"absolute inset-y-0 right-0 z-40 w-[350px] max-w-[60%] bg-gray-100 dark:bg-zinc-900 border-l shadow-xl flex flex-col"},Js={class:"flex items-center justify-between p-2 border-b sticky top-0 bg-white/95 dark:bg-zinc-900/95 z-10"},Qs={class:"text-sm font-semibold truncate"},Zs={class:"p-3 space-y-2 overflow-y-auto"},Ks={class:"grid grid-cols-2 gap-2"},Xs={class:"grid grid-cols-[1fr_auto] gap-2 items-center"},Ws={class:"relative"},Ys={class:"grid grid-cols-6 gap-2"},en={class:"grid grid-cols-2 gap-2"},tn={class:"flex items-center justify-between py-1"},ln={key:0,class:"fixed inset-0 z-50"},an={class:"absolute right-0 top-0 h-full w-full sm:w-[420px] lg:w-[560px] bg-white dark:bg-zinc-900 border-l shadow-xl flex flex-col"},on={class:"flex items-center justify-between p-3 border-b sticky top-0 bg-white/95 dark:bg-zinc-900/95 z-10"},sn={class:"text-base font-semibold truncate"},nn={class:"p-4 space-y-3 overflow-y-auto"},dn={class:"flex items-center gap-2"},un=["value"],rn={class:"flex items-center gap-2"},cn={key:1,class:"absolute inset-y-0 right-0 z-40 w-[350px] max-w-[60%] bg-gray-100 dark:bg-zinc-900 border-l shadow-xl flex flex-col"},pn={class:"flex items-center justify-between p-2 border-b sticky top-0 bg-white/95 dark:bg-zinc-900/95 z-10"},vn={class:"text-sm font-semibold truncate"},bn={class:"p-3 space-y-2 overflow-y-auto"},xn={class:"flex items-center gap-2"},mn=["value"],fn={class:"flex items-center gap-2"},gn={key:0,class:"fixed inset-0 left-0 z-50 w-full bg-white dark:bg-zinc-900 shadow-xl flex flex-col"},wn={class:"flex items-center justify-between p-2 border-b sticky top-0 bg-white/95 dark:bg-zinc-900/95 z-10"},yn={class:"text-sm font-semibold truncate"},_n={class:"p-3 space-y-2 overflow-y-auto"},hn={class:"flex items-center gap-2"},Cn=["value"],kn={class:"flex items-center gap-2"},Sn=["value"],zn={class:"space-y-2"},$n={class:"flex flex-col gap-1"},Un={class:"relative"},Nn={key:0,class:"absolute z-10 mt-1 max-h-48 w-full overflow-auto rounded border bg-white text-sm shadow dark:border-zinc-700 dark:bg-zinc-900"},An=["onMousedown"],In={class:"grid grid-cols-1 sm:grid-cols-1 gap-2"},Pn={class:"flex items-center gap-4"},Vn={class:"inline-flex items-center gap-2"},En={class:"inline-flex items-center gap-2"},Ln={class:"grid grid-cols-1 sm:grid-cols-2 gap-2"},Tn={class:"grid grid-cols-1 sm:grid-cols-2 gap-2"},jn={__name:"ClientEditModal",props:{asPage:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1},editId:{type:[String,Number],default:null},form:{type:Object,default:()=>({})}},emits:["update:modelValue","save"],setup(a,{emit:n}){const v=P(!1),x=P(-1),k=P([]);async function S(){if(!k.value.length)try{const o=await at(new URLSearchParams);k.value=o}catch(o){console.warn("[ensureAtividades]",o),k.value=[]}}const q=P(!1),Z=He(()=>{const o=(w.value.atividade||"").toString().toLowerCase().trim();return o?k.value.filter(e=>(e.text||"").toLowerCase().includes(o)):k.value});function O(o){w.value.atividade=(o==null?void 0:o.text)??"",q.value=!1}const w=P({id:void 0,local_id:"",setor:"",atividade:"",funcao:"",uniforme:"",medicao:"HORA",cargaHoras:"",maximoAdic:"",horaNorProf:"",extraProf:"",noturnoProf:"",extraNotProf:"",horaNorCli:"",extraCli:"",noturnoCli:"",extraNotCli:""});async function Pe(o=-1){var e;try{N.editId&&await H()}catch(t){console.warn("[openFuncDrawer.refreshLocais]",t)}await S(),x.value=o,o>=0?w.value={...((e=d.value.funcoes)==null?void 0:e[o])||{}}:w.value={id:void 0,local_id:"",setor:"",atividade:"",funcao:"",uniforme:"",medicao:"HORA",cargaHoras:"",maximoAdic:"",horaNorProf:"",extraProf:"",noturnoProf:"",extraNotProf:"",horaNorCli:"",extraCli:"",noturnoCli:"",extraNotCli:""};try{w.value.local_id&&await ie(w.value.local_id)}catch{}v.value=!0,j(()=>w.value.local_id,async t=>{if(t)try{await ie(t)}catch(i){console.warn("[funcoes.local_id preload]",i)}})}function ye(){v.value=!1}async function dt(){var o,e,t,i,s,z;try{const y=N.editId,g=w.value,A={idCliente:y,local:g.local_id||g.local,setor:g.setor,atividade:g.atividade,funcao:(g.funcao||"").trim(),uniforme:g.uniforme,medicao:g.medicao,cargaHoras:g.cargaHoras,maximoAdic:g.maximoAdic,horaNorProf:g.horaNorProf,extraProf:g.extraProf,noturnoProf:g.noturnoProf,extraNotProf:g.extraNotProf,horaNorCli:g.horaNorCli,extraCli:g.extraCli,noturnoCli:g.noturnoCli,extraNotCli:g.extraNotCli};if(!A.local||!A.setor||!A.funcao){(o=window.$toast)==null||o.error("Informe Local, Setor e Função");return}if(!y){d.value.funcoes||(d.value.funcoes=[]),x.value>=0?d.value.funcoes.splice(x.value,1,{...g}):d.value.funcoes.push({...g}),(e=window.$toast)==null||e.success("Função atualizada (aguardando salvar cliente)"),ye();return}const U=x.value>=0?((t=d.value.funcoes)==null?void 0:t[x.value])||{}:null;U!=null&&U.id?(await tt({...A,id:U.id},new URLSearchParams),(i=window.$toast)==null||i.success("Função atualizada com sucesso")):(await et(A,new URLSearchParams),(s=window.$toast)==null||s.success("Função criada com sucesso"));const E=await Ie(y,new URLSearchParams),C=Array.isArray(E==null?void 0:E.data)?E.data:(E==null?void 0:E.rows)||E||[];d.value.funcoes=(C||[]).map(f=>({id:f.id,local_id:f.local_id??f.id_unidade??f.idLocal??f.local??f.unidade_id,setor:f.setor??f.nome_setor??f.nomeSetor,atividade:f.atividade??f.atividade_nome,funcao:f.funcao,uniforme:f.uniforme,medicao:f.medicao??f.medida,cargaHoras:f.cargaHoras??f.carga,maximoAdic:f.maximoAdic??f.adicional_max,horaNorProf:f.horaNorProf??f.normal_prof,extraProf:f.extraProf??f.extra_prof,noturnoProf:f.noturnoProf??f.noturno_prof,extraNotProf:f.extraNotProf??f.extra_noturno_prof,horaNorCli:f.horaNorCli??f.normal_cliente,extraCli:f.extraCli??f.extra_cliente,noturnoCli:f.noturnoCli??f.noturno_cliente,extraNotCli:f.extraNotCli??f.extra_noturno_cliente}))}catch(y){console.error("[saveFuncDraft]",y),(z=window.$toast)==null||z.error("Falha ao salvar função")}finally{ye()}}function ut(o,e=300){let t;return(...i)=>{clearTimeout(t),t=setTimeout(()=>o(...i),e)}}const rt=ut(async()=>{try{await H()}catch{}},300),N=a,ct=n,h=P("dados");j(()=>N.modelValue,o=>{if(!o){h.value="dados";try{ae.value=!1}catch{}try{se.value=-1}catch{}try{Y.value=-1}catch{}try{K.value=-1}catch{}try{X.value=-1}catch{}try{W.value=-1}catch{}try{B.value=-1}catch{}try{x.value=-1}catch{}try{re.value=-1}catch{}try{fe.value=-1}catch{}}}),j(()=>N.editId,()=>{h.value="dados"});const d=P({...N.form});j(()=>N.form,o=>{d.value={...o}},{deep:!0});function Se(){ct("save",{...d.value})}function ue(o,e){d.value[o]||(d.value[o]=[]),d.value[o].push({...e})}function te(o,e){Array.isArray(d.value[o])&&d.value[o].splice(e,1)}function ze(o){return String(o||"").replace(/[^0-9]/g,"")}function pt(o){var i;const e=ze(((i=o==null?void 0:o.target)==null?void 0:i.value)??d.value.cnpj).slice(0,14);let t="";e.length>12?t=e.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"):e.length>8?t=e.replace(/(\d{2})(\d{3})(\d{3})(\d{0,4})/,"$1.$2.$3/$4"):e.length>5?t=e.replace(/(\d{2})(\d{3})(\d{0,3})/,"$1.$2.$3"):e.length>2?t=e.replace(/(\d{2})(\d{0,3})/,"$1.$2"):t=e,d.value.cnpj=t}function Ve(o){const e=ze(d.value[o]).slice(0,11);e.length>10?d.value[o]=e.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"):e.length>6?d.value[o]=e.replace(/(\d{2})(\d{4})(\d{0,4})/,"($1) $2-$3"):e.length>2?d.value[o]=e.replace(/(\d{2})(\d{0,5})/,"($1) $2"):d.value[o]=e}function Ee(o){const e=ze(d.value[o]).slice(0,8);e.length>4?d.value[o]=e.replace(/(\d{2})(\d{2})(\d{0,4})/,"$1/$2/$3"):e.length>2?d.value[o]=e.replace(/(\d{2})(\d{0,2})/,"$1/$2"):d.value[o]=e}j([()=>h.value,()=>N.editId],async([o,e])=>{if(o==="setores"&&e&&(!d.value.setores||d.value.setores.length===0))try{const t=await ke(e,new URLSearchParams),i=Array.isArray(t==null?void 0:t.data)?t.data:(t==null?void 0:t.rows)||t||[];d.value.setores=(i||[]).map(s=>({id:s.id_setor??s.id??s.setor_id,local_id:s.id_unidade??s.local_id??s.idLocal??s.unidade_id??s.id,setor:s.nome??s.setor??s.name??""}))}catch(t){console.warn("[load setores]",t)}}),j([()=>h.value,()=>N.editId],async([o,e])=>{if(o==="funcoes"&&e&&(!d.value.funcoes||d.value.funcoes.length===0))try{const t=await Ie(e,new URLSearchParams),i=Array.isArray(t==null?void 0:t.data)?t.data:(t==null?void 0:t.rows)||t||[];d.value.funcoes=(i||[]).map(s=>({local:s.local||s.nomeLocal||s.local_nome||s.nome||"",setor:s.setor||s.nome_setor||s.nomeSetor||"",atividade:s.atividade||s.atividade_nome||"",funcao:s.funcao||s.nome_funcao||s.nomeFuncao||"",normal:s.normal??s.valor_normal??"",extra:s.extra??s.valor_extra??"",noturno:s.noturno??s.valor_noturno??"",extra_noturno:s.extra_noturno??s.valor_extra_noturno??"",normal_cliente:s.normal_cliente??s.cliente_normal??"",extra_cliente:s.extra_cliente??s.cliente_extra??"",noturno_cliente:s.noturno_cliente??s.cliente_noturno??"",extra_noturno_cliente:s.extra_noturno_cliente??s.cliente_extra_noturno??"",medida:s.medida||s.unidade||"",carga:s.carga||s.carga_horaria||"",adicional_max:s.adicional_max||s.adicionalMax||""}))}catch(t){console.warn("[load funcoes]",t)}}),j([()=>h.value,()=>N.editId],async([o,e])=>{if(o==="usuarios"&&e&&(!d.value.usuarios||d.value.usuarios.length===0))try{const t=await ot(e,new URLSearchParams),i=Array.isArray(t==null?void 0:t.data)?t.data:(t==null?void 0:t.rows)||t||[];d.value.usuarios=(i||[]).map(s=>({usuario:s.usuario||s.nome||s.name||"",email:s.email||s.mail||"",perfil:s.perfil||s.role||s.perfil_nome||"",unidades_liberadas:s.unidades_liberadas||s.unidades||s.unidadesLiberadas||""}))}catch(t){console.warn("[load usuarios]",t)}}),j([()=>h.value,()=>N.editId],async([o,e])=>{if(o==="gestores"&&e&&(!d.value.gestores||d.value.gestores.length===0))try{const t=await st(e,new URLSearchParams),i=Array.isArray(t==null?void 0:t.data)?t.data:(t==null?void 0:t.rows)||t||[];d.value.gestores=(i||[]).map(s=>({local:s.local||s.nomeLocal||s.local_nome||s.nome||"",setor:s.setor||s.nome_setor||s.nomeSetor||"",atividade:s.atividade||s.atividade_nome||"",gestor:s.gestor||s.nome_gestor||s.nomeGestor||s.responsavel||"",periodo_dia:s.periodo_dia||s.periodoDia||"",periodo_mes:s.periodo_mes||s.periodoMes||""}))}catch(t){console.warn("[load gestores]",t)}});const K=P(-1);function vt(o){K.value=K.value===o?-1:o}function bt(o){K.value=-1,Pe(o)}function xt(o){var t;K.value=-1;const e=(t=d.value.funcoes)==null?void 0:t[o];e&&ue("funcoes",{...e})}function mt(o){K.value=-1,te("funcoes",o)}const X=P(-1),re=P(-1),xe=P(!1),I=P({usuario:"",email:"",perfil:"",unidades_liberadas:[]});function ft(o){X.value=X.value===o?-1:o}function gt(o){X.value=-1,Le(o)}function wt(){Le(-1)}function Le(o){var t;re.value=o;const e=o>=0?((t=d.value.usuarios)==null?void 0:t[o])||{}:{usuario:"",email:"",perfil:"",unidades_liberadas:[]};I.value={usuario:e.usuario||"",email:e.email||"",perfil:e.perfil||"",unidades_liberadas:Array.isArray(e.unidades_liberadas)?e.unidades_liberadas:e.unidades_liberadas?String(e.unidades_liberadas).split(",").map(i=>i.trim()):[]},xe.value=!0}function me(){xe.value=!1}function Te(){const o={...I.value,unidades_liberadas:Array.isArray(I.value.unidades_liberadas)?I.value.unidades_liberadas.join(", "):I.value.unidades_liberadas||""};re.value>=0?d.value.usuarios[re.value]=o:ue("usuarios",o),xe.value=!1}function yt(o){var t;X.value=-1;const e=(t=d.value.usuarios)==null?void 0:t[o];e&&ue("usuarios",{...e})}function _t(o){X.value=-1,te("usuarios",o)}const W=P(-1),fe=P(-1);function ht(o){W.value=W.value===o?-1:o}function Ct(o){W.value=-1,fe.value=o}function kt(o){var t;W.value=-1;const e=(t=d.value.gestores)==null?void 0:t[o];e&&ue("gestores",{...e})}function St(o){W.value=-1,te("gestores",o)}const Y=P(-1),B=P(-1);function zt(o){Y.value=Y.value===o?-1:o}function $t(o){Y.value=-1,Re(o)}function Ut(o){var t;Y.value=-1;const e=(t=d.value.setores)==null?void 0:t[o];e&&ue("setores",{...e})}function Nt(o){return Y.value=-1,At(o)}function ge(o){const e=(d.value.locais||[]).find(t=>(t.id??t.local_id)===o);return(e==null?void 0:e.nome)||`Local #${(d.value.locais||[]).findIndex(t=>(t.id??t.local_id)===o)+1}`}function $e(o){if(o==null)return"";if(typeof o=="string"){try{const e=JSON.parse(o);if(e&&(e.text||e.label))return String(e.text||e.label)}catch{}return o}return String(typeof o=="object"?o.text||o.label||o.nome||o.name||"":o)}async function je(){var o,e,t,i,s,z,y,g,A,U,E;try{const C={...p.value};if(C.nome=(C.nome||"").trim(),C.responsavel=(C.responsavel||"").trim(),C.uf=(C.uf||"").toString().slice(0,2).toUpperCase(),C.qr_code_fixo=!!C.qrcode_fixo,C.endereco=C.endereco||C.logradouro||"",!C.nome){(o=window.$toast)==null||o.error("Informe o nome da unidade");return}if(!C.responsavel){(e=window.$toast)==null||e.error("Informe o responsável");return}if(!N.editId){d.value.locais||(d.value.locais=[]),oe.value>=0?d.value.locais.splice(oe.value,1,{...C}):d.value.locais.push({...C}),(t=window.$toast)==null||t.success("Local atualizado (aguardando salvar cliente)"),ne();return}const f=N.editId;if(oe.value>=0){const qe=((i=d.value.locais)==null?void 0:i[oe.value])||{},Be=qe.id||qe.local_id;Be?(await Ze(Be,{...C,idCliente:f},new URLSearchParams),await H(),(z=window.$toast)==null||z.success("Local atualizado com sucesso")):(await Ne(f,C,new URLSearchParams),await H(),(s=window.$toast)==null||s.success("Local criado com sucesso"))}else await Ne(f,C,new URLSearchParams),await H(),(y=window.$toast)==null||y.success("Local criado com sucesso")}catch(C){console.error("[saveLocalDraft]",C);const f=typeof((g=C==null?void 0:C.response)==null?void 0:g.data)=="string"?C.response.data:((U=(A=C==null?void 0:C.response)==null?void 0:A.data)==null?void 0:U.message)||(C==null?void 0:C.message)||"Falha ao salvar local";(E=window.$toast)==null||E.error(f)}finally{await H(),ne()}}async function H(){if(N.editId)try{const o=await Qe(N.editId,new URLSearchParams),e=(o==null?void 0:o.data)||(o==null?void 0:o.rows)||o||[];console.log("[refreshLocais] rows:",Array.isArray(e)?e.length:"n/a",e),d.value.locais=(Array.isArray(e)?e:[]).map(t=>({id:t.id||t.id_unidade||t.local_id,nome:t.nome||t.nome_unidade||t.unidade_nome,responsavel:t.responsavel||t.responsavel_unidade,telefone:t.telefone||t.telefone_unidade,email:t.email||t.email_unidade,regiao:t.regiao||"",cep:t.cep||"",endereco:t.endereco||t.logradouro||"",logradouro:t.logradouro||t.endereco||"",numero:t.numero||"",complemento:t.complemento||"",bairro:t.bairro||"",cidade:t.cidade||"",uf:t.uf||"",qrcode_fixo:t.qr_code_fixo??t.qrcode_fixo??!1}))}catch(o){console.warn("[refreshLocais]",o)}}async function Fe(){if(N.editId){try{const o=await ke(N.editId,new URLSearchParams),e=Array.isArray(o==null?void 0:o.data)?o.data:(o==null?void 0:o.rows)||o||[];d.value.setores=(e||[]).map(t=>({id:t.id_setor??t.id??t.setor_id,local_id:t.id_unidade??t.local_id??t.idLocal??t.unidade_id??t.id,setor:t.nome??t.setor??t.name??""}))}catch(o){console.warn("[refreshSetores]",o)}j(()=>h.value,o=>{try{o!=="funcoes"&&(v.value=!1)}catch{}j(()=>h.value,e=>{try{e!=="locais"&&(ae.value=!1)}catch{}try{e!=="setores"&&(ce.value=!1)}catch{}try{e!=="funcoes"&&(v.value=!1)}catch{}try{se.value=-1}catch{}try{Y.value=-1}catch{}try{K.value=-1}catch{}try{X.value=-1}catch{}try{W.value=-1}catch{}});try{o!=="setores"&&(ce.value=!1)}catch{}try{o!=="locais"&&(ae.value=!1)}catch{}})}}j([()=>h.value,()=>N.editId,()=>{var o;return(o=d.value.locais)==null?void 0:o.length},()=>{var o;return(o=d.value.setores)==null?void 0:o.length}],async([o,e])=>{e&&(o==="locais"&&await H(),o==="setores"&&await Fe(),o==="funcoes"&&(await H(),await Fe()))}),j(()=>N.modelValue,o=>{o&&N.editId&&rt()});const ce=P(!1),D=P({id:void 0,local_id:"",setor:""});async function Re(o=-1){var e;try{N.editId&&await H()}catch(t){console.warn("[openSetorDrawer.refreshLocais]",t)}B.value=o,o>=0?D.value={...((e=d.value.setores)==null?void 0:e[o])||{}}:D.value={id:void 0,local_id:"",setor:""},ce.value=!0}function le(){ce.value=!1}async function Oe(){var o,e,t,i,s,z;try{const y=N.editId,g={idCliente:y,id_Cliente:y,id_unidade:D.value.local_id,nome:(D.value.setor||"").trim()};if(!g.id_unidade||!g.nome){(o=window.$toast)==null||o.error("Selecione Local e informe o nome do Setor");return}if(!y){d.value.setores||(d.value.setores=[]),B.value>=0?d.value.setores.splice(B.value,1,{...g}):d.value.setores.push({...g}),(e=window.$toast)==null||e.success("Setor atualizado (aguardando salvar cliente)"),le();return}const A=B.value>=0?((t=d.value.setores)==null?void 0:t[B.value])||{}:null,U=A==null?void 0:A.id;U?(await Xe({...g,id:U},new URLSearchParams({idCliente:y,id_Cliente:y})),(i=window.$toast)==null||i.success("Setor atualizado com sucesso")):(await Ke(g,new URLSearchParams({idCliente:y,id_Cliente:y})),(s=window.$toast)==null||s.success("Setor criado com sucesso"));const E=await ke(y,new URLSearchParams),C=Array.isArray(E==null?void 0:E.data)?E.data:(E==null?void 0:E.rows)||E||[];d.value.setores=(C||[]).map(f=>({id:f.id_setor??f.id??f.setor_id,local_id:f.id_unidade??f.local_id??f.idLocal??f.unidade_id??f.id,setor:f.nome??f.setor??f.name??""}))}catch(y){console.error("[saveSetorDraft]",y),(z=window.$toast)==null||z.error("Falha ao salvar setor")}finally{le()}}async function At(o){var e,t,i;try{const s=(e=d.value.setores)==null?void 0:e[o];if(!s)return;if(!N.editId||!s.id){te("setores",o);return}await We(s.id,new URLSearchParams),te("setores",o),(t=window.$toast)==null||t.success("Setor removido com sucesso")}catch(s){console.error("[remove setor]",s),(i=window.$toast)==null||i.error("Falha ao remover setor")}}j(()=>N.editId,o=>{N.modelValue&&o&&H()});async function It(o){var e,t,i;try{const s=(e=d.value.locais)==null?void 0:e[o];if(!s)return;if(!N.editId||!s.id){te("locais",o);return}await lt(s.id,new URLSearchParams),te("locais",o),(t=window.$toast)==null||t.success("Local removido com sucesso")}catch(s){console.error("[remove local]",s),(i=window.$toast)==null||i.error("Falha ao remover local")}}const ae=P(!1),oe=P(-1),p=P({nome:"",responsavel:"",email:"",telefone:"",regiao:"",cep:"",endereco:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",qrcode_fixo:!1});function De(o=-1){var e;oe.value=o,o>=0?p.value={...((e=d.value.locais)==null?void 0:e[o])||{}}:p.value={nome:"",responsavel:"",email:"",telefone:"",regiao:"",cep:"",endereco:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",qrcode_fixo:!1},Pt(),ae.value=!0}const Ue=P([]);async function Pt(){try{if(Ue.value.length)return;const o=await it(new URLSearchParams),e=Array.isArray(o)?o:(o==null?void 0:o.data)||(o==null?void 0:o.rows)||[];Ue.value=e.map(t=>({value:(t==null?void 0:t.id)??(t==null?void 0:t.sigla)??(t==null?void 0:t.name)??t,label:(t==null?void 0:t.nome)??(t==null?void 0:t.label)??(t==null?void 0:t.name)??String(t)}))}catch{Ue.value=[]}}function Me(){const o=String(p.value.telefone||"").replace(/[^0-9]/g,"").slice(0,11);o.length>10?p.value.telefone=o.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"):o.length>6?p.value.telefone=o.replace(/(\d{2})(\d{4})(\d{0,4})/,"($1) $2-$3"):o.length>2?p.value.telefone=o.replace(/(\d{2})(\d{0,5})/,"($1) $2"):p.value.telefone=o}const se=P(-1);function Vt(o){se.value=se.value===o?-1:o}function Et(o){se.value=-1,De(o)}function Lt(o){return se.value=-1,It(o)}function ne(){ae.value=!1}async function pe(){try{const o=(p.value.cep||"").replace(/[^0-9]/g,"");if(o.length!==8)return;const t=await(await fetch(`https://viacep.com.br/ws/${o}/json/`)).json();if(!(t!=null&&t.erro)){const i=t.logradouro||p.value.endereco||p.value.logradouro;p.value.endereco=i,p.value.logradouro=i,p.value.bairro=t.bairro||p.value.bairro,p.value.cidade=t.localidade||p.value.cidade,p.value.uf=t.uf||p.value.uf}try{Tt()}catch{}}catch(o){console.warn("[viaCEP draft]",o)}}function Tt(){const o=String(p.value.cep||"").replace(/[^0-9]/g,""),e=String(p.value.cidade||"").toLowerCase(),t=String(p.value.uf||"").toUpperCase();if(o.length>=5&&t==="SP"&&(e.includes("sao paulo")||e.includes("são paulo"))){const i=o.slice(0,2);let s="";i==="01"?s="CENTRO":i==="02"?s="ZONA NORTE":i==="03"?s="ZONA LESTE":i==="04"?s="ZONA SUL":i==="05"&&(s="ZONA OESTE"),s&&(p.value.regiao=s)}}const we=new Map;function jt(o){var t;const e=String(o??"");return((t=we.get(e))==null?void 0:t.loading)===!0}function _e(o){var z,y;const e=String(o??""),t=(z=we.get(e))==null?void 0:z.options;return Array.isArray(t)&&t.length?t:(Array.isArray((y=d.value)==null?void 0:y.setores)?d.value.setores:[]).filter(g=>String(g.id_unidade??g.local_id??g.idLocal??g.unidade_id??g.id)===e).map((g,A)=>{const U=g.setor??g.nome??g.name??`Setor ${A+1}`,E=g.setor_id??g.id_setor??g.id??`${e}-${A+1}`;return{value:String(E),text:String(U),label:String(U)}})}async function ie(o){var i;const e=String(o??"");if(!e)return;const t=we.get(e)||{loading:!1,options:[]};if(!((i=t.options)!=null&&i.length)){t.loading=!0,we.set(e,t);try{const s=await nt(e);t.options=(Array.isArray(s)?s:[]).map((z,y)=>{if(typeof z!="object"||z===null)return{value:String(y+1),label:String(z),text:String(z)};const g=z.value??z.id??z.setor_id??z.id_setor??(z.local_id?`${z.local_id}-${y+1}`:y+1),A=z.text??z.nome??z.setor??z.name??z.label??JSON.stringify(z);return{value:String(g),label:String(A),text:String(A)}})}catch{t.options=[]}finally{t.loading=!1,we.set(e,t)}}}const Q=P([]);j(()=>h.value,async o=>{if(o==="faturamento"&&Q.value.length===0)try{const e=await Ae(new URLSearchParams);console.log("[findTaxSituation] raw response:",e);const t=Array.isArray(e)?e:(e==null?void 0:e.data)||(e==null?void 0:e.rows)||[];console.log("[findTaxSituation] normalized rows:",t),Q.value=t.map((i,s)=>{if(typeof i!="object"||i===null)return{value:String(i),label:String(i)};let y=[i.value,i.id,i.codigo,i.sigla,i.code,i.key,i.nome,i.name,i.label].find(U=>typeof U=="string"||typeof U=="number"||typeof U=="boolean");y==null&&(y=s);let A=[i.label,i.name,i.descricao,i.description,i.title,i.text,i.nome,i.sigla,i.codigo,y].find(U=>typeof U=="string"||typeof U=="number"||typeof U=="boolean");return A==null&&(A=JSON.stringify(i)),{value:String(y),label:String(A)}}),console.log("[findTaxSituation] options normalized:",Q.value)}catch(e){console.error("[findTaxSituation] error:",(e==null?void 0:e.response)||e),Q.value=[]}}),j(()=>N.modelValue,async o=>{if(o&&Q.value.length===0)try{const e=await Ae(new URLSearchParams);console.log("[findTaxSituation modal open] raw response:",e);const t=Array.isArray(e)?e:(e==null?void 0:e.data)||(e==null?void 0:e.rows)||[];console.log("[findTaxSituation modal open] normalized rows:",t),Q.value=t.map((i,s)=>{if(typeof i!="object"||i===null)return{value:String(i),label:String(i)};let y=[i.value,i.id,i.codigo,i.sigla,i.code,i.key,i.nome,i.name,i.label].find(U=>typeof U=="string"||typeof U=="number"||typeof U=="boolean");y==null&&(y=s);let A=[i.label,i.name,i.descricao,i.description,i.title,i.text,i.nome,i.sigla,i.codigo,y].find(U=>typeof U=="string"||typeof U=="number"||typeof U=="boolean");return A==null&&(A=JSON.stringify(i)),{value:String(y),label:String(A)}}),console.log("[findTaxSituation modal open] options normalized:",Q.value)}catch(e){console.error("[findTaxSituation modal open] error:",(e==null?void 0:e.response)||e),Q.value=[]}});const de=He(()=>(d.value.locais||[]).map((o,e)=>({value:o.id??o.local_id??e+1,label:o.nome||`Local #${e+1}`})));return(o,e)=>a.asPage||a.modelValue?(c(),r("div",{key:0,class:F(a.asPage?"":"fixed inset-0 z-50 grid place-items-center bg-black/50"),onClick:e[104]||(e[104]=Ge(t=>!a.asPage&&o.$emit("update:modelValue",!1),["self"]))},[M(Ce,{name:a.asPage?"":"modal-zoom",appear:""},{default:he(()=>[l("div",{class:F(a.asPage?"relative w-full min-h-[60vh] bg-white dark:bg-zinc-900 overflow-hidden":"relative w-full sm:w-[960px] h-[85vh] rounded-lg bg-white shadow-lg dark:bg-zinc-900 overflow-hidden")},[a.asPage?$("",!0):(c(),r("header",tl,[l("h3",ll,m(d.value.nome_comercial||d.value.razao_social||"Cliente"),1),l("button",{class:"rounded p-1 text-zinc-600 hover:bg-zinc-100 dark:text-zinc-300 dark:hover:bg-zinc-800",onClick:e[0]||(e[0]=t=>o.$emit("update:modelValue",!1)),"aria-label":"Fechar",title:"Fechar"},[...e[105]||(e[105]=[l("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])])])),d.value.__loading?(c(),r("div",al,[...e[106]||(e[106]=[l("div",{class:"flex items-center gap-2 rounded-full border bg-white px-3 py-1 text-sm shadow"},[l("span",{class:"animate-spin"},"⏳"),G(" Salvando...")],-1)])])):$("",!0),l("div",{class:F(a.asPage?"flex min-h-[60vh] relative":"flex h-[calc(85vh-56px)] relative")},[l("aside",ol,[l("nav",sl,[l("button",{onClick:e[1]||(e[1]=t=>h.value="dados"),class:F(["w-full text-left px-3 py-2 rounded-full flex items-center gap-2",h.value==="dados"?"bg-blue-600 text-white":"text-zinc-700 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-700"])},[M(J,{name:"identification",class:"h-4 w-4"}),e[107]||(e[107]=G()),e[108]||(e[108]=l("span",null,"Dados Gerais",-1))],2),l("button",{onClick:e[2]||(e[2]=t=>h.value="contrato"),class:F(["w-full text-left px-3 py-2 rounded-full flex items-center gap-2",h.value==="contrato"?"bg-blue-600 text-white":"text-zinc-700 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-700"])},[M(J,{name:"document-text",class:"h-4 w-4"}),e[109]||(e[109]=G()),e[110]||(e[110]=l("span",null,"Contrato",-1))],2),l("button",{onClick:e[3]||(e[3]=t=>h.value="faturamento"),class:F(["w-full text-left px-3 py-2 rounded-full flex items-center gap-2",h.value==="faturamento"?"bg-blue-600 text-white":"text-zinc-700 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-700"])},[M(J,{name:"banknotes",class:"h-4 w-4"}),e[111]||(e[111]=G()),e[112]||(e[112]=l("span",null,"Faturamento",-1))],2),l("button",{onClick:e[4]||(e[4]=t=>h.value="locais"),class:F(["w-full text-left px-3 py-2 rounded-full flex items-center gap-2",h.value==="locais"?"bg-blue-600 text-white":"text-zinc-700 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-700"])},[M(J,{name:"map-pin",class:"h-4 w-4"}),e[113]||(e[113]=G()),e[114]||(e[114]=l("span",null,"Locais",-1))],2),l("button",{onClick:e[5]||(e[5]=t=>h.value="setores"),class:F(["w-full text-left px-3 py-2 rounded-full flex items-center gap-2",h.value==="setores"?"bg-blue-600 text-white":"text-zinc-700 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-700"])},[M(J,{name:"squares-2x2",class:"h-4 w-4"}),e[115]||(e[115]=G()),e[116]||(e[116]=l("span",null,"Setores",-1))],2),l("button",{onClick:e[6]||(e[6]=t=>h.value="funcoes"),class:F(["w-full text-left px-3 py-2 rounded-full flex items-center gap-2",h.value==="funcoes"?"bg-blue-600 text-white":"text-zinc-700 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-700"])},[M(J,{name:"wrench-screwdriver",class:"h-4 w-4"}),e[117]||(e[117]=G()),e[118]||(e[118]=l("span",null,"Funções",-1))],2),l("button",{onClick:e[7]||(e[7]=t=>h.value="usuarios"),class:F(["w-full text-left px-3 py-2 rounded-full flex items-center gap-2",h.value==="usuarios"?"bg-blue-600 text-white":"text-zinc-700 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-700"])},[M(J,{name:"users",class:"h-4 w-4"}),e[119]||(e[119]=G()),e[120]||(e[120]=l("span",null,"Usuários",-1))],2),l("button",{onClick:e[8]||(e[8]=t=>h.value="gestores"),class:F(["w-full text-left px-3 py-2 rounded-full flex items-center gap-2",h.value==="gestores"?"bg-blue-600 text-white":"text-zinc-700 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-700"])},[M(J,{name:"shield-check",class:"h-4 w-4"}),e[121]||(e[121]=G()),e[122]||(e[122]=l("span",null,"Gestores",-1))],2)])]),l("main",nl,[l("div",il,[h.value==="dados"?(c(),r("form",dl,[l("div",ul,[e[123]||(e[123]=l("label",{class:"form-label"},"Nome comercial*",-1)),u(l("input",{"onUpdate:modelValue":e[9]||(e[9]=t=>d.value.nome_comercial=t),class:"form-input",required:""},null,512),[[b,d.value.nome_comercial]])]),l("div",rl,[e[124]||(e[124]=l("label",{class:"form-label"},"Razão Social*",-1)),u(l("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>d.value.razao_social=t),class:"form-input",required:""},null,512),[[b,d.value.razao_social]])]),l("div",cl,[e[125]||(e[125]=l("label",{class:"form-label"},"CNPJ*",-1)),u(l("input",{"onUpdate:modelValue":e[11]||(e[11]=t=>d.value.cnpj=t),class:"form-input",inputmode:"numeric",placeholder:"00.000.000/0000-00",onInput:pt,required:""},null,544),[[b,d.value.cnpj]])]),l("div",pl,[e[126]||(e[126]=l("label",{class:"form-label"},"E-mail*",-1)),u(l("input",{"onUpdate:modelValue":e[12]||(e[12]=t=>d.value.email=t),type:"email",class:"form-input",required:""},null,512),[[b,d.value.email]])]),l("div",vl,[e[127]||(e[127]=l("label",{class:"form-label"},"Domínio da empresa",-1)),u(l("input",{"onUpdate:modelValue":e[13]||(e[13]=t=>d.value.dominio=t),class:"form-input",placeholder:"ex.: empresa.com.br"},null,512),[[b,d.value.dominio]])]),l("div",bl,[e[128]||(e[128]=l("label",{class:"form-label"},"Telefone 1",-1)),u(l("input",{"onUpdate:modelValue":e[14]||(e[14]=t=>d.value.telefone1=t),class:"form-input",inputmode:"numeric",placeholder:"(00) 00000-0000",onInput:e[15]||(e[15]=t=>Ve("telefone1"))},null,544),[[b,d.value.telefone1]])]),l("div",xl,[e[129]||(e[129]=l("label",{class:"form-label"},"Telefone 2",-1)),u(l("input",{"onUpdate:modelValue":e[16]||(e[16]=t=>d.value.telefone2=t),class:"form-input",inputmode:"numeric",placeholder:"(00) 00000-0000",onInput:e[17]||(e[17]=t=>Ve("telefone2"))},null,544),[[b,d.value.telefone2]])]),l("div",ml,[e[131]||(e[131]=l("label",{class:"form-label"},"Status",-1)),u(l("select",{"onUpdate:modelValue":e[18]||(e[18]=t=>d.value.active=t),class:"form-input"},[...e[130]||(e[130]=[l("option",{value:1},"Ativo",-1),l("option",{value:0},"Inativo",-1)])],512),[[R,d.value.active]])]),l("div",fl,[l("button",{type:"button",class:"rounded-full px-4 py-1 h-[28px] text-sm font-semibold text-dark shadow-sm hover:bg-gray-300",onClick:e[19]||(e[19]=t=>o.$emit("update:modelValue",!1))},"Cancelar"),l("button",{type:"button",class:"rounded-full bg-blue-600 px-4 py-1 h-[28px] text-sm font-semibold text-white shadow-sm hover:bg-blue-600",onClick:Se},"Salvar")])])):h.value==="contrato"?(c(),r("form",gl,[l("div",wl,[e[132]||(e[132]=l("label",{class:"form-label"},"Contrato",-1)),u(l("input",{"onUpdate:modelValue":e[20]||(e[20]=t=>d.value.contrato=t),class:"form-input"},null,512),[[b,d.value.contrato]])]),l("div",yl,[e[133]||(e[133]=l("label",{class:"form-label"},"Início do Contrato",-1)),u(l("input",{"onUpdate:modelValue":e[21]||(e[21]=t=>d.value.contrato_inicio=t),class:"form-input",placeholder:"DD/MM/AAAA",onInput:e[22]||(e[22]=t=>Ee("contrato_inicio"))},null,544),[[b,d.value.contrato_inicio]])]),l("div",_l,[e[134]||(e[134]=l("label",{class:"form-label"},"Fim do Contrato",-1)),u(l("input",{"onUpdate:modelValue":e[23]||(e[23]=t=>d.value.contrato_fim=t),class:"form-input",placeholder:"DD/MM/AAAA",onInput:e[24]||(e[24]=t=>Ee("contrato_fim"))},null,544),[[b,d.value.contrato_fim]])]),l("div",hl,[l("button",{type:"button",class:"rounded-full px-4 py-1 h-[28px] text-sm font-semibold text-dark shadow-sm hover:bg-gray-300",onClick:e[25]||(e[25]=t=>o.$emit("update:modelValue",!1))},"Cancelar"),l("button",{type:"button",class:"rounded-full bg-blue-600 px-4 py-1 h-[28px] text-sm font-semibold text-white shadow-sm hover:bg-blue-600",onClick:Se},"Salvar")])])):h.value==="faturamento"?(c(),r("form",Cl,[e[145]||(e[145]=l("div",{class:"flex items-center justify-between"},[l("h4",{class:"text-sm font-medium"},"Faturamento")],-1)),l("div",kl,[l("div",Sl,[e[135]||(e[135]=l("label",{class:"form-label"},"Faturamento",-1)),u(l("input",{"onUpdate:modelValue":e[26]||(e[26]=t=>d.value.faturamento=t),class:"form-input"},null,512),[[b,d.value.faturamento]])]),l("div",zl,[e[137]||(e[137]=l("label",{class:"form-label"},"Meio de recebimento",-1)),u(l("select",{"onUpdate:modelValue":e[27]||(e[27]=t=>d.value.meio_recebimento=t),class:"form-input"},[...e[136]||(e[136]=[l("option",{value:""},"Selecione",-1),l("option",{value:"DEPÓSITO"},"DEPÓSITO",-1),l("option",{value:"BOLETO"},"BOLETO",-1)])],512),[[R,d.value.meio_recebimento]])]),l("label",$l,[u(l("input",{type:"checkbox","onUpdate:modelValue":e[28]||(e[28]=t=>d.value.simples_nacional=t)},null,512),[[Ft,d.value.simples_nacional]]),e[138]||(e[138]=G()),e[139]||(e[139]=l("span",null,"Optante do Simples Nacional?",-1))]),l("div",Ul,[e[141]||(e[141]=l("label",{class:"form-label"},"Lista de presença",-1)),u(l("select",{"onUpdate:modelValue":e[29]||(e[29]=t=>d.value.lista_presenca=t),class:"form-input"},[...e[140]||(e[140]=[l("option",{value:""},"Selecione",-1),l("option",{value:"Com foto"},"Com foto",-1),l("option",{value:"Sem foto"},"Sem foto",-1)])],512),[[R,d.value.lista_presenca]])]),l("div",Nl,[e[143]||(e[143]=l("label",{class:"form-label"},"Situação Tributária",-1)),u(l("select",{"onUpdate:modelValue":e[30]||(e[30]=t=>d.value.situacao_tributaria=t),class:"form-input"},[e[142]||(e[142]=l("option",{value:""},"Selecione",-1)),(c(!0),r(L,null,T(Q.value,t=>(c(),r("option",{key:t.value,value:t.value},m(t.label),9,Al))),128))],512),[[R,d.value.situacao_tributaria]])]),l("div",Il,[e[144]||(e[144]=l("label",{class:"form-label"},"Orientações para o faturamento",-1)),u(l("textarea",{"onUpdate:modelValue":e[31]||(e[31]=t=>d.value.orientacoes_faturamento=t),class:"form-textarea",placeholder:"Sem foto"},null,512),[[b,d.value.orientacoes_faturamento]])]),l("div",Pl,[l("button",{type:"button",class:"rounded-full px-4 py-1 h-[28px] text-sm font-semibold text-dark shadow-sm hover:bg-gray-300",onClick:e[32]||(e[32]=t=>o.$emit("update:modelValue",!1))},"Cancelar"),l("button",{type:"button",class:"rounded-full bg-blue-600 px-4 py-1 h-[28px] text-sm font-semibold text-white shadow-sm hover:bg-blue-600",onClick:Se},"Salvar")])])])):h.value==="locais"?(c(),r("div",Vl,[l("div",El,[e[146]||(e[146]=l("h4",{class:"text-sm font-medium"},"Locais",-1)),l("button",{class:"rounded-full bg-[#0B61F3] px-3 py-1 text-sm font-semibold text-white shadow-sm hover:bg-blue-600",onClick:e[33]||(e[33]=t=>De())},"Adicionar")]),d.value.locais&&d.value.locais.length?$("",!0):(c(),r("div",Ll,"Nenhum local adicionado ainda.")),l("div",Tl,[(c(!0),r(L,null,T(d.value.locais||[],(t,i)=>(c(),r("article",{key:"lc"+i,class:"relative rounded border p-3 shadow-sm"},[l("header",jl,[l("div",Fl,[t.qrcode_fixo?(c(),r("span",Rl,"QR Fixo")):$("",!0),t.regiao?(c(),r("span",Ol,m(t.regiao),1)):$("",!0),t.uf?(c(),r("span",Dl,m(t.uf),1)):$("",!0)]),l("div",Ml,[l("button",{class:"rounded p-1.5 hover:bg-zinc-100 dark:hover:bg-zinc-800","aria-label":"Mais ações",onClick:s=>Vt(i)},"⋯",8,ql),se.value===i?(c(),r("div",Bl,[l("button",{class:"block w-full rounded px-2 py-1 text-left hover:bg-zinc-100 dark:hover:bg-zinc-800",onClick:s=>Et(i)},"Editar",8,Hl),l("button",{class:"block w-full rounded px-2 py-1 text-left text-red-600 hover:bg-red-50 dark:hover:bg-red-950/50",onClick:s=>Lt(i)},"Excluir",8,Gl)])):$("",!0)])]),l("dl",Jl,[l("div",Ql,[l("dd",null,m(t.nome),1)]),l("div",Zl,[l("dd",null,m(t.responsavel)+" - "+m(t.telefone),1)]),l("div",Kl,[l("dd",null,m(t.endereco)+", "+m(t.numero),1)]),l("div",Xl,[l("dd",null,m(t.bairro)+" - "+m(t.cidade)+" / "+m(t.uf)+" - CEP: "+m(t.cep),1)])])]))),128))])])):h.value==="setores"?(c(),r("div",Wl,[l("div",Yl,[e[147]||(e[147]=l("h4",{class:"text-sm font-medium"},"Setores",-1)),l("button",{class:"rounded-full bg-[#0B61F3] px-3 py-1 text-sm font-semibold text-white shadow-sm hover:bg-blue-600",onClick:e[34]||(e[34]=t=>Re())},"Adicionar")]),d.value.setores&&d.value.setores.length?$("",!0):(c(),r("div",ea,"Nenhum setor cadastrado.")),l("div",ta,[(c(!0),r(L,null,T(d.value.setores||[],(t,i)=>(c(),r("article",{key:"st"+i,class:"rounded border p-3 shadow-sm"},[l("header",la,[l("div",aa,[l("strong",oa,m(t.setor||"Setor #"+(i+1)),1),t.local_id?(c(),r("span",sa,m(ge(t.local_id)),1)):$("",!0)]),l("div",na,[l("button",{class:"rounded p-1.5 hover:bg-zinc-100 dark:hover:bg-zinc-800","aria-label":"Mais ações",onClick:s=>zt(i)},"⋯",8,ia),Y.value===i?(c(),r("div",da,[l("button",{class:"block w-full rounded px-2 py-1 text-left hover:bg-zinc-100 dark:hover:bg-zinc-800",onClick:s=>$t(i)},"Editar",8,ua),l("button",{class:"block w-full rounded px-2 py-1 text-left hover:bg-zinc-100 dark:hover:bg-zinc-800",onClick:s=>Ut(i)},"Duplicar",8,ra),l("button",{class:"block w-full rounded px-2 py-1 text-left text-red-600 hover:bg-red-50 dark:hover:bg-red-950/50",onClick:s=>Nt(i)},"Excluir",8,ca)])):$("",!0)])]),B.value===i?(c(),r("div",pa,[l("div",va,[e[149]||(e[149]=l("label",{class:"text-xs w-16"},"Local",-1)),u(l("select",{"onUpdate:modelValue":s=>t.local_id=s,class:"form-input w-full",onChange:s=>ie(t.local_id)},[e[148]||(e[148]=l("option",{value:""},"Selecione...",-1)),(c(!0),r(L,null,T(de.value,s=>(c(),r("option",{key:"lo"+s.value,value:s.value},m(s.label),9,xa))),128))],40,ba),[[R,t.local_id]])]),l("div",ma,[e[151]||(e[151]=l("label",{class:"text-xs w-16"},"Setor",-1)),u(l("select",{"onUpdate:modelValue":s=>t.setor=s,class:"form-input w-full"},[e[150]||(e[150]=l("option",{value:""},"Selecione...",-1)),jt(t.local_id)?(c(),r("option",ga,"carregando...")):_e(t.local_id).length===0?(c(),r("option",wa,"sem opções")):$("",!0),(c(!0),r(L,null,T(_e(t.local_id),s=>(c(),r("option",{key:"st"+s.value,value:s.label},m(s.label),9,ya))),128))],8,fa),[[R,t.setor]])]),l("div",_a,[l("button",{class:"btn btn-xs",onClick:e[35]||(e[35]=s=>B.value=-1)},"Cancelar"),l("button",{class:"btn btn-primary btn-xs",onClick:e[36]||(e[36]=s=>B.value=-1)},"Salvar")])])):(c(),r("dl",ha,[l("div",Ca,[e[152]||(e[152]=l("dt",{class:"font-medium"},"Local",-1)),l("dd",null,m(ge(t.local_id)||"-"),1)]),l("div",ka,[e[153]||(e[153]=l("dt",{class:"font-medium"},"Setor",-1)),l("dd",null,m(t.setor||"-"),1)])]))]))),128))])])):h.value==="funcoes"?(c(),r("div",Sa,[l("div",za,[e[154]||(e[154]=l("h4",{class:"text-sm font-medium"},"Funções",-1)),l("button",{class:"rounded-full bg-[#0B61F3] px-3 py-1 text-sm font-semibold text-white shadow-sm hover:bg-blue-600",onClick:e[37]||(e[37]=t=>Pe())},"Adicionar")]),d.value.funcoes&&d.value.funcoes.length?$("",!0):(c(),r("div",$a,"Nenhuma função cadastrada.")),l("div",Ua,[(c(!0),r(L,null,T(d.value.funcoes||[],(t,i)=>(c(),r("article",{key:"fn"+i,class:"rounded border p-3 shadow-sm"},[l("header",Na,[l("div",Aa,[l("strong",Ia,m(t.funcao||"Função #"+(i+1)),1),t.setor?(c(),r("span",Pa,m(t.setor),1)):$("",!0),t.local_id?(c(),r("span",Va,m(ge(t.local_id)),1)):$("",!0)]),l("div",Ea,[l("button",{class:"rounded p-1.5 hover:bg-zinc-100 dark:hover:bg-zinc-800","aria-label":"Mais ações",onClick:s=>vt(i)},"⋯",8,La),K.value===i?(c(),r("div",Ta,[l("button",{class:"block w-full rounded px-2 py-1 text-left hover:bg-zinc-100 dark:hover:bg-zinc-800",onClick:s=>bt(i)},"Editar",8,ja),l("button",{class:"block w-full rounded px-2 py-1 text-left hover:bg-zinc-100 dark:hover:bg-zinc-800",onClick:s=>xt(i)},"Duplicar",8,Fa),l("button",{class:"block w-full rounded px-2 py-1 text-left text-red-600 hover:bg-red-50 dark:hover:bg-red-950/50",onClick:s=>mt(i)},"Excluir",8,Ra)])):$("",!0)])]),x.value===i?(c(),r("div",Oa,[l("div",Da,[e[156]||(e[156]=l("label",{class:"text-xs w-16"},"Local",-1)),u(l("select",{"onUpdate:modelValue":s=>t.local_id=s,class:"form-input w-full",onChange:s=>ie(t.local_id)},[e[155]||(e[155]=l("option",{value:""},"Selecione um local...",-1)),(c(!0),r(L,null,T(de.value,s=>(c(),r("option",{key:"lo"+s.value,value:s.value},m(s.label),9,qa))),128))],40,Ma),[[R,t.local_id]])]),l("div",Ba,[e[158]||(e[158]=l("label",{class:"text-xs w-16"},"Setor",-1)),u(l("select",{"onUpdate:modelValue":s=>t.setor=s,class:"form-input w-full"},[e[157]||(e[157]=l("option",{value:""},"Selecione um setor...",-1)),(c(!0),r(L,null,T(_e(t.local_id),s=>(c(),r("option",{key:"st"+(s.value??s.id??s.text??s.setor),value:s.text??s.label??s.nome??s.setor},m(s.text??s.label??s.nome??s.setor),9,Ga))),128))],8,Ha),[[R,t.setor]])]),l("div",Ja,[u(l("select",{"onUpdate:modelValue":s=>t.atividade=s,class:"form-input"},[e[159]||(e[159]=l("option",{value:""},"Selecione uma atividade...",-1)),(c(!0),r(L,null,T(k.value,s=>(c(),r("option",{key:"atv"+s.value,value:s.text},m(s.text),9,Za))),128))],8,Qa),[[R,t.atividade]]),u(l("input",{"onUpdate:modelValue":s=>t.funcao=s,placeholder:"Função",class:"form-input"},null,8,Ka),[[b,t.funcao]]),u(l("input",{"onUpdate:modelValue":s=>t.medida=s,placeholder:"Medida (ex: hora, dia, mês)",class:"form-input"},null,8,Xa),[[b,t.medida]])]),l("div",Wa,[u(l("input",{"onUpdate:modelValue":s=>t.normal=s,placeholder:"Normal",class:"form-input"},null,8,Ya),[[b,t.normal]]),u(l("input",{"onUpdate:modelValue":s=>t.extra=s,placeholder:"Extra",class:"form-input"},null,8,eo),[[b,t.extra]]),u(l("input",{"onUpdate:modelValue":s=>t.noturno=s,placeholder:"Noturno",class:"form-input"},null,8,to),[[b,t.noturno]])]),l("div",lo,[u(l("input",{"onUpdate:modelValue":s=>t.extra_noturno=s,placeholder:"Extra Noturno",class:"form-input"},null,8,ao),[[b,t.extra_noturno]]),u(l("input",{"onUpdate:modelValue":s=>t.normal_cliente=s,placeholder:"Normal Cliente",class:"form-input"},null,8,oo),[[b,t.normal_cliente]]),u(l("input",{"onUpdate:modelValue":s=>t.extra_cliente=s,placeholder:"Extra Cliente",class:"form-input"},null,8,so),[[b,t.extra_cliente]])]),l("div",no,[u(l("input",{"onUpdate:modelValue":s=>t.noturno_cliente=s,placeholder:"Noturno Cliente",class:"form-input"},null,8,io),[[b,t.noturno_cliente]]),u(l("input",{"onUpdate:modelValue":s=>t.extra_noturno_cliente=s,placeholder:"Extra Noturno Cliente",class:"form-input"},null,8,uo),[[b,t.extra_noturno_cliente]]),u(l("input",{"onUpdate:modelValue":s=>t.carga=s,placeholder:"Carga (ex: 220h/mês)",class:"form-input"},null,8,ro),[[b,t.carga]])]),l("div",co,[l("button",{class:"btn btn-xs",onClick:e[38]||(e[38]=s=>x.value=-1)},"Cancelar"),l("button",{class:"btn btn-primary btn-xs",onClick:e[39]||(e[39]=s=>x.value=-1)},"Salvar")])])):(c(),r("dl",po,[l("div",vo,[e[160]||(e[160]=l("dt",{class:"font-medium"},"Local",-1)),l("dd",null,m(ge(t.local_id)||"-"),1)]),l("div",bo,[e[161]||(e[161]=l("dt",{class:"font-medium"},"Setor",-1)),l("dd",null,m(t.setor||"-"),1)]),l("div",xo,[e[162]||(e[162]=l("dt",{class:"font-medium"},"Atividade",-1)),l("dd",mo,m(t.atividade||"-"),1)]),l("div",fo,[e[163]||(e[163]=l("dt",{class:"font-medium"},"Função",-1)),l("dd",null,m(t.funcao||"-"),1)]),l("div",go,[e[164]||(e[164]=l("dt",{class:"font-medium"},"Medida",-1)),l("dd",null,m(t.medida||"-"),1)]),l("div",wo,[e[165]||(e[165]=l("dt",{class:"font-medium"},"Cargas/Valores",-1)),l("dd",yo,"N: "+m(t.normal||"-")+" • E: "+m(t.extra||"-")+" • Nt: "+m(t.noturno||"-"),1)])]))]))),128))])])):h.value==="usuarios"?(c(),r("div",_o,[l("div",{class:"flex items-center justify-between"},[e[166]||(e[166]=l("h4",{class:"text-sm font-medium"},"Usuários",-1)),l("button",{class:"rounded-full bg-[#0B61F3] px-3 py-1 text-sm font-semibold text-white shadow-sm hover:bg-blue-600",onClick:wt},"Adicionar")]),d.value.usuarios&&d.value.usuarios.length?$("",!0):(c(),r("div",ho,"Nenhum usuário cadastrado.")),l("div",Co,[(c(!0),r(L,null,T(d.value.usuarios||[],(t,i)=>(c(),r("article",{key:"us"+i,class:"rounded border p-3 shadow-sm"},[l("header",ko,[l("div",So,[l("strong",zo,m(t.usuario||"Usuário #"+(i+1)),1),t.perfil?(c(),r("span",$o,m(t.perfil),1)):$("",!0)]),l("div",Uo,[l("button",{class:"rounded p-1.5 hover:bg-zinc-100 dark:hover:bg-zinc-800","aria-label":"Mais ações",onClick:s=>ft(i)},"⋯",8,No),X.value===i?(c(),r("div",Ao,[l("button",{class:"block w-full rounded px-2 py-1 text-left hover:bg-zinc-100 dark:hover:bg-zinc-800",onClick:s=>gt(i)},"Editar",8,Io),l("button",{class:"block w_full rounded px-2 py-1 text-left hover:bg-zinc-100 dark:hover:bg-zinc-800",onClick:s=>yt(i)},"Duplicar",8,Po),l("button",{class:"block w-full rounded px-2 py-1 text-left text-red-600 hover:bg-red-50 dark:hover:bg-red-950/50",onClick:s=>_t(i)},"Excluir",8,Vo)])):$("",!0)])]),(c(),r("dl",Eo,[l("div",Lo,[e[167]||(e[167]=l("dt",{class:"font-medium"},"E-mail",-1)),l("dd",To,m(t.email||"-"),1)]),l("div",jo,[e[168]||(e[168]=l("dt",{class:"font-medium"},"Perfil",-1)),l("dd",null,m(t.perfil||"-"),1)]),l("div",Fo,[e[169]||(e[169]=l("dt",{class:"font-medium"},"Unidades",-1)),l("dd",Ro,m(t.unidades_liberadas||"-"),1)])]))]))),128))])])):$("",!0),M(Ce,{name:"slide-right",appear:""},{default:he(()=>[xe.value&&a.asPage?(c(),r("div",Oo,[l("div",{class:"absolute inset-0 bg-black/40",onClick:me}),l("aside",Do,[l("div",Mo,[l("h5",qo,m(re.value===-1?"Novo usuário":"Editar usuário"),1),l("button",{class:"rounded p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800",onClick:me,"aria-label":"Fechar"},"✕")]),l("div",Bo,[l("div",Ho,[l("div",null,[e[170]||(e[170]=l("label",{class:"text-xs"},"Nome *",-1)),u(l("input",{"onUpdate:modelValue":e[40]||(e[40]=t=>I.value.usuario=t),placeholder:"Nome",class:"form-input w-full"},null,512),[[b,I.value.usuario]])]),l("div",null,[e[171]||(e[171]=l("label",{class:"text-xs"},"Email *",-1)),u(l("input",{"onUpdate:modelValue":e[41]||(e[41]=t=>I.value.email=t),placeholder:"Email",class:"form-input w-full"},null,512),[[b,I.value.email]])])]),l("div",Go,[l("div",null,[e[172]||(e[172]=l("label",{class:"text-xs"},"Unidades de acesso",-1)),u(l("select",{"onUpdate:modelValue":e[42]||(e[42]=t=>I.value.unidades_liberadas=t),class:"form-input w-full",multiple:""},[(c(!0),r(L,null,T(de.value,t=>(c(),r("option",{key:"lo"+t.value,value:t.label},m(t.label),9,Jo))),128))],512),[[R,I.value.unidades_liberadas]])]),l("div",null,[e[175]||(e[175]=l("label",{class:"text-xs"},"Perfil do usuário",-1)),l("div",Qo,[l("label",Zo,[u(l("input",{type:"radio",value:"ADMIN","onUpdate:modelValue":e[43]||(e[43]=t=>I.value.perfil=t)},null,512),[[ve,I.value.perfil]]),e[173]||(e[173]=l("span",null,"Administrativo",-1))]),l("label",Ko,[u(l("input",{type:"radio",value:"PADRAO","onUpdate:modelValue":e[44]||(e[44]=t=>I.value.perfil=t)},null,512),[[ve,I.value.perfil]]),e[174]||(e[174]=l("span",null,"Padrão",-1))])])])])]),l("div",{class:"mt-auto p-3 border-t bg-white dark:bg-zinc-900"},[l("div",{class:"flex justify-end gap-2"},[l("button",{class:"btn btn-secondary btn-sm",onClick:me},"Cancelar"),l("button",{class:"btn btn-primary btn-sm",onClick:Te},"Salvar")])])])])):xe.value?(c(),r("aside",Xo,[l("div",Wo,[l("h5",Yo,m(re.value===-1?"Novo usuário":"Editar usuário"),1),l("button",{class:"rounded p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800",onClick:me,"aria-label":"Fechar"},"✕")]),l("div",es,[e[178]||(e[178]=l("label",{class:"text-xs"},"Nome *",-1)),u(l("input",{"onUpdate:modelValue":e[45]||(e[45]=t=>I.value.usuario=t),placeholder:"Nome",class:"form-input w-full"},null,512),[[b,I.value.usuario]]),e[179]||(e[179]=l("label",{class:"text-xs"},"Email *",-1)),u(l("input",{"onUpdate:modelValue":e[46]||(e[46]=t=>I.value.email=t),placeholder:"Email",class:"form-input w-full"},null,512),[[b,I.value.email]]),e[180]||(e[180]=l("label",{class:"text-xs"},"Unidades de acesso",-1)),u(l("select",{"onUpdate:modelValue":e[47]||(e[47]=t=>I.value.unidades_liberadas=t),class:"form-input w-full",multiple:""},[(c(!0),r(L,null,T(de.value,t=>(c(),r("option",{key:"lo"+t.value,value:t.label},m(t.label),9,ts))),128))],512),[[R,I.value.unidades_liberadas]]),e[181]||(e[181]=l("label",{class:"text-xs"},"Perfil do usuário",-1)),l("div",ls,[l("label",as,[u(l("input",{type:"radio",value:"ADMIN","onUpdate:modelValue":e[48]||(e[48]=t=>I.value.perfil=t)},null,512),[[ve,I.value.perfil]]),e[176]||(e[176]=l("span",null,"Administrativo",-1))]),l("label",os,[u(l("input",{type:"radio",value:"PADRAO","onUpdate:modelValue":e[49]||(e[49]=t=>I.value.perfil=t)},null,512),[[ve,I.value.perfil]]),e[177]||(e[177]=l("span",null,"Padrão",-1))])])]),l("div",{class:"mt-auto p-3 border-t bg-white dark:bg-zinc-900"},[l("div",{class:"flex justify-end gap-2"},[l("button",{class:"btn btn-secondary btn-sm",onClick:me},"Cancelar"),l("button",{class:"btn btn-primary btn-sm",onClick:Te},"Salvar")])])])):$("",!0)]),_:1}),h.value==="gestores"?(c(),r("div",ss,[l("div",ns,[e[182]||(e[182]=l("h4",{class:"text-sm font-medium"},"Gestores",-1)),l("button",{class:"rounded-full bg-[#0B61F3] px-3 py-1 text-sm font-semibold text-white shadow-sm hover:bg-blue-600",onClick:e[50]||(e[50]=t=>ue("gestores",{local:"",setor:"",atividade:"",gestor:"",periodo_dia:"",periodo_mes:""}))},"Adicionar")]),d.value.gestores&&d.value.gestores.length?$("",!0):(c(),r("div",is,"Nenhum gestor cadastrado.")),l("div",ds,[(c(!0),r(L,null,T(d.value.gestores||[],(t,i)=>(c(),r("article",{key:"gs"+i,class:"rounded border p-3 shadow-sm"},[l("header",us,[l("div",rs,[l("strong",cs,m($e(t.gestor)||"Gestor #"+(i+1)),1),t.local?(c(),r("span",ps,m(typeof t.local=="number"?ge(t.local):$e(t.local)),1)):$("",!0),t.setor?(c(),r("span",vs,m($e(t.setor)),1)):$("",!0)]),l("div",bs,[l("button",{class:"rounded p-1.5 hover:bg-zinc-100 dark:hover:bg-zinc-800","aria-label":"Mais ações",onClick:s=>ht(i)},"⋯",8,xs),W.value===i?(c(),r("div",ms,[l("button",{class:"block w-full rounded px-2 py-1 text-left hover:bg-zinc-100 dark:hover:bg-zinc-800",onClick:s=>Ct(i)},"Editar",8,fs),l("button",{class:"block w-full rounded px-2 py-1 text-left hover:bg-zinc-100 dark:hover:bg-zinc-800",onClick:s=>kt(i)},"Duplicar",8,gs),l("button",{class:"block w-full rounded px-2 py-1 text-left text-red-600 hover:bg-red-50 dark:hover:bg-red-950/50",onClick:s=>St(i)},"Excluir",8,ws)])):$("",!0)])]),fe.value===i?(c(),r("div",ys,[u(l("input",{"onUpdate:modelValue":s=>t.local=s,placeholder:"Local*",class:"form-input w-full"},null,8,_s),[[b,t.local]]),u(l("input",{"onUpdate:modelValue":s=>t.setor=s,placeholder:"Setor*",class:"form-input w-full"},null,8,hs),[[b,t.setor]]),u(l("input",{"onUpdate:modelValue":s=>t.atividade=s,placeholder:"Atividade",class:"form-input w-full"},null,8,Cs),[[b,t.atividade]]),u(l("input",{"onUpdate:modelValue":s=>t.gestor=s,placeholder:"Gestor (Nome)",class:"form-input w-full"},null,8,ks),[[b,t.gestor]]),l("div",Ss,[u(l("input",{"onUpdate:modelValue":s=>t.periodo_dia=s,placeholder:"Período Dia",class:"form-input"},null,8,zs),[[b,t.periodo_dia]]),u(l("input",{"onUpdate:modelValue":s=>t.periodo_mes=s,placeholder:"Período Mês",class:"form-input"},null,8,$s),[[b,t.periodo_mes]])]),l("div",Us,[l("button",{class:"btn btn-xs",onClick:e[51]||(e[51]=s=>fe.value=-1)},"Cancelar"),l("button",{class:"btn btn-primary btn-xs",onClick:e[52]||(e[52]=s=>fe.value=-1)},"Salvar")])])):(c(),r("dl",Ns,[l("div",As,[e[183]||(e[183]=l("dt",{class:"font-medium"},"Local",-1)),l("dd",null,m(t.local||"-"),1)]),l("div",Is,[e[184]||(e[184]=l("dt",{class:"font-medium"},"Setor",-1)),l("dd",null,m(t.setor||"-"),1)]),l("div",Ps,[e[185]||(e[185]=l("dt",{class:"font-medium"},"Atividade",-1)),l("dd",Vs,m(t.atividade||"-"),1)]),l("div",Es,[e[186]||(e[186]=l("dt",{class:"font-medium"},"Período",-1)),l("dd",null,m(t.periodo_dia||"-")+" / "+m(t.periodo_mes||"-"),1)])]))]))),128))])])):$("",!0)])]),M(Ce,{name:"slide-right",appear:""},{default:he(()=>[ae.value&&a.asPage?(c(),r("div",Ls,[l("div",{class:"absolute inset-0 bg-black/40",onClick:ne}),l("aside",Ts,[l("div",js,[l("h4",Fs,m(oe.value===-1?"Novo local":"Editar local"),1),l("button",{class:"rounded p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800",onClick:ne,"aria-label":"Fechar"},"✕")]),l("div",Rs,[u(l("input",{"onUpdate:modelValue":e[53]||(e[53]=t=>p.value.nome=t),placeholder:"Nome da unidade*",class:"form-input w-full"},null,512),[[b,p.value.nome]]),u(l("input",{"onUpdate:modelValue":e[54]||(e[54]=t=>p.value.responsavel=t),placeholder:"Responsável*",class:"form-input w-full"},null,512),[[b,p.value.responsavel]]),l("div",Os,[u(l("input",{"onUpdate:modelValue":e[55]||(e[55]=t=>p.value.telefone=t),placeholder:"Telefone",class:"form-input",onInput:Me},null,544),[[b,p.value.telefone]]),u(l("input",{"onUpdate:modelValue":e[56]||(e[56]=t=>p.value.email=t),type:"email",placeholder:"Email",class:"form-input"},null,512),[[b,p.value.email]])]),l("div",Ds,[l("div",Ms,[u(l("input",{"onUpdate:modelValue":e[57]||(e[57]=t=>p.value.cep=t),placeholder:"CEP",class:"form-input w-full pr-7 text-sm",onInput:e[58]||(e[58]=t=>p.value.cep=(p.value.cep||"").replace(/[^0-9]/g,"").slice(0,8).replace(/(\\d{5})(\\d{0,3})/,"$1-$2")),onKeyup:Je(pe,["enter"]),onBlur:pe},null,544),[[b,p.value.cep]]),l("span",{class:"absolute right-1.5 top-1.5 text-zinc-500 cursor-pointer",title:"Buscar CEP",onClick:pe},[M(J,{name:"magnifying-glass",class:"h-4 w-4"})])])]),u(l("input",{"onUpdate:modelValue":e[59]||(e[59]=t=>p.value.endereco=t),placeholder:"Endereço",class:"form-input w-full"},null,512),[[b,p.value.endereco]]),l("div",qs,[u(l("input",{"onUpdate:modelValue":e[60]||(e[60]=t=>p.value.bairro=t),placeholder:"Bairro",class:"form-input col-span-3"},null,512),[[b,p.value.bairro]]),u(l("input",{"onUpdate:modelValue":e[61]||(e[61]=t=>p.value.cidade=t),placeholder:"Cidade",class:"form-input col-span-2"},null,512),[[b,p.value.cidade]]),u(l("input",{"onUpdate:modelValue":e[62]||(e[62]=t=>p.value.uf=t),placeholder:"UF",maxlength:"2",class:"form-input col-span-1 text-center"},null,512),[[b,p.value.uf]])]),l("div",Bs,[u(l("input",{"onUpdate:modelValue":e[63]||(e[63]=t=>p.value.numero=t),placeholder:"Número",class:"form-input"},null,512),[[b,p.value.numero]]),u(l("input",{"onUpdate:modelValue":e[64]||(e[64]=t=>p.value.complemento=t),placeholder:"Complemento",class:"form-input"},null,512),[[b,p.value.complemento]])]),l("div",Hs,[e[188]||(e[188]=l("span",{class:"text-sm"},"QR Code Fixo",-1)),l("button",{type:"button",class:F(["relative inline-flex h-5 w-9 items-center rounded-full",p.value.qrcode_fixo?"bg-brand-600":"bg-zinc-300"]),onClick:e[65]||(e[65]=t=>p.value.qrcode_fixo=!p.value.qrcode_fixo)},[e[187]||(e[187]=l("span",{class:"sr-only"},"Alternar QR Code Fixo",-1)),l("span",{class:F(["inline-block h-4 w-4 transform rounded-full bg-white transition",p.value.qrcode_fixo?"translate-x-5":"translate-x-1"])},null,2)],2)])]),l("div",{class:"mt-auto p-3 border-t bg-white dark:bg-zinc-900"},[l("div",{class:"flex justify-end gap-2"},[l("button",{class:"btn btn-secondary btn-sm",onClick:ne},"Cancelar"),l("button",{class:"btn btn-primary btn-sm",onClick:je},"Salvar")])])])])):ae.value?(c(),r("aside",Gs,[l("div",Js,[l("h5",Qs,m(oe.value===-1?"Novo local":"Editar local"),1),l("button",{class:"rounded p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800",onClick:ne,"aria-label":"Fechar"},"✕")]),l("div",Zs,[u(l("input",{"onUpdate:modelValue":e[66]||(e[66]=t=>p.value.nome=t),placeholder:"Nome da unidade*",class:"form-input w-full"},null,512),[[b,p.value.nome]]),u(l("input",{"onUpdate:modelValue":e[67]||(e[67]=t=>p.value.responsavel=t),placeholder:"Responsável*",class:"form-input w-full"},null,512),[[b,p.value.responsavel]]),l("div",Ks,[u(l("input",{"onUpdate:modelValue":e[68]||(e[68]=t=>p.value.telefone=t),placeholder:"Telefone",class:"form-input",onInput:Me},null,544),[[b,p.value.telefone]]),u(l("input",{"onUpdate:modelValue":e[69]||(e[69]=t=>p.value.email=t),type:"email",placeholder:"Email",class:"form-input"},null,512),[[b,p.value.email]]),e[189]||(e[189]=l("div",null,null,-1))]),l("div",Xs,[l("div",Ws,[u(l("input",{"onUpdate:modelValue":e[70]||(e[70]=t=>p.value.cep=t),placeholder:"CEP",class:"form-input w-full pr-7 text-sm",onInput:e[71]||(e[71]=t=>p.value.cep=(p.value.cep||"").replace(/[^0-9]/g,"").slice(0,8).replace(/(\\d{5})(\\d{0,3})/,"$1-$2")),onKeyup:Je(pe,["enter"]),onBlur:pe},null,544),[[b,p.value.cep]]),l("span",{class:"absolute right-1.5 top-1.5 text-zinc-500 cursor-pointer",title:"Buscar CEP",onClick:pe},[M(J,{name:"magnifying-glass",class:"h-4 w-4"})])])]),u(l("input",{"onUpdate:modelValue":e[72]||(e[72]=t=>p.value.endereco=t),placeholder:"Endereço",class:"form-input w-full"},null,512),[[b,p.value.endereco]]),l("div",Ys,[u(l("input",{"onUpdate:modelValue":e[73]||(e[73]=t=>p.value.bairro=t),placeholder:"Bairro",class:"form-input col-span-3"},null,512),[[b,p.value.bairro]]),u(l("input",{"onUpdate:modelValue":e[74]||(e[74]=t=>p.value.cidade=t),placeholder:"Cidade",class:"form-input col-span-2"},null,512),[[b,p.value.cidade]]),u(l("input",{"onUpdate:modelValue":e[75]||(e[75]=t=>p.value.uf=t),placeholder:"UF",maxlength:"2",class:"form-input col-span-1 text-center"},null,512),[[b,p.value.uf]])]),l("div",en,[u(l("input",{"onUpdate:modelValue":e[76]||(e[76]=t=>p.value.numero=t),placeholder:"Número",class:"form-input"},null,512),[[b,p.value.numero]]),u(l("input",{"onUpdate:modelValue":e[77]||(e[77]=t=>p.value.complemento=t),placeholder:"Complemento",class:"form-input"},null,512),[[b,p.value.complemento]])]),l("div",tn,[e[191]||(e[191]=l("span",{class:"text-sm"},"QR Code Fixo",-1)),l("button",{type:"button",class:F(["relative inline-flex h-5 w-9 items-center rounded-full",p.value.qrcode_fixo?"bg-brand-600":"bg-zinc-300"]),onClick:e[78]||(e[78]=t=>p.value.qrcode_fixo=!p.value.qrcode_fixo)},[e[190]||(e[190]=l("span",{class:"sr-only"},"Alternar QR Code Fixo",-1)),l("span",{class:F(["inline-block h-4 w-4 transform rounded-full bg-white transition",p.value.qrcode_fixo?"translate-x-5":"translate-x-1"])},null,2)],2)])]),l("div",{class:"mt-auto p-3 border-t bg-white dark:bg-zinc-900"},[l("div",{class:"flex justify-end gap-2"},[l("button",{class:"btn btn-secondary btn-sm",onClick:ne},"Cancelar"),l("button",{class:"btn btn-primary btn-sm",onClick:je},"Salvar")])])])):$("",!0)]),_:1}),M(Ce,{name:"slide-right",appear:""},{default:he(()=>[ce.value&&a.asPage?(c(),r("div",ln,[l("div",{class:"absolute inset-0 bg-black/40",onClick:le}),l("aside",an,[l("div",on,[l("h5",sn,m(B.value===-1?"Novo setor":"Editar setor"),1),l("button",{class:"rounded p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800",onClick:le,"aria-label":"Fechar"},"✕")]),l("div",nn,[l("div",dn,[e[193]||(e[193]=l("label",{class:"text-xs w-16"},"Local",-1)),u(l("select",{"onUpdate:modelValue":e[79]||(e[79]=t=>D.value.local_id=t),class:"form-input w-full",onChange:e[80]||(e[80]=t=>ie(D.value.local_id))},[e[192]||(e[192]=l("option",{value:""},"Selecione...",-1)),(c(!0),r(L,null,T(de.value,t=>(c(),r("option",{key:"lo"+t.value,value:t.value},m(t.label),9,un))),128))],544),[[R,D.value.local_id]])]),l("div",rn,[e[194]||(e[194]=l("label",{class:"text-xs w-16"},"Setor",-1)),u(l("input",{"onUpdate:modelValue":e[81]||(e[81]=t=>D.value.setor=t),placeholder:"Nome do setor*",class:"form-input w-full"},null,512),[[b,D.value.setor]])])]),l("div",{class:"mt-auto p-3 border-t bg-white dark:bg-zinc-900"},[l("div",{class:"flex justify-end gap-2"},[l("button",{class:"btn btn-secondary btn-sm",onClick:le},"Cancelar"),l("button",{class:"btn btn-primary btn-sm",onClick:Oe},"Salvar")])])])])):ce.value?(c(),r("aside",cn,[l("div",pn,[l("h5",vn,m(B.value===-1?"Novo setor":"Editar setor"),1),l("button",{class:"rounded p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800",onClick:le,"aria-label":"Fechar"},"✕")]),l("div",bn,[l("div",xn,[e[196]||(e[196]=l("label",{class:"text-xs w-16"},"Local",-1)),u(l("select",{"onUpdate:modelValue":e[82]||(e[82]=t=>D.value.local_id=t),class:"form-input w-full",onChange:e[83]||(e[83]=t=>ie(D.value.local_id))},[e[195]||(e[195]=l("option",{value:""},"Selecione...",-1)),(c(!0),r(L,null,T(de.value,t=>(c(),r("option",{key:"lo"+t.value,value:t.value},m(t.label),9,mn))),128))],544),[[R,D.value.local_id]])]),l("div",fn,[e[197]||(e[197]=l("label",{class:"text-xs w-16"},"Setor",-1)),u(l("input",{"onUpdate:modelValue":e[84]||(e[84]=t=>D.value.setor=t),placeholder:"Nome do setor*",class:"form-input w-full"},null,512),[[b,D.value.setor]])])]),l("div",{class:"mt-auto p-3 border-t bg-white dark:bg-zinc-900"},[l("div",{class:"flex justify-end gap-2"},[l("button",{class:"btn btn-secondary btn-sm",onClick:le},"Cancelar"),l("button",{class:"btn btn-primary btn-sm",onClick:Oe},"Salvar")])])])):$("",!0)]),_:1}),v.value?(c(),r("aside",gn,[l("div",wn,[l("h5",yn,m(x.value===-1?"Nova função":"Editar função"),1),l("button",{class:"rounded p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800",onClick:ye,"aria-label":"Fechar"},"✕")]),l("div",_n,[l("div",hn,[e[199]||(e[199]=l("label",{class:"text-xs w-16"},"Local",-1)),u(l("select",{"onUpdate:modelValue":e[85]||(e[85]=t=>w.value.local_id=t),class:"form-input w-full",onChange:e[86]||(e[86]=t=>ie(w.value.local_id))},[e[198]||(e[198]=l("option",{value:""},"Selecione...",-1)),(c(!0),r(L,null,T(de.value,t=>(c(),r("option",{key:"lo"+t.value,value:t.value},m(t.label),9,Cn))),128))],544),[[R,w.value.local_id]])]),l("div",kn,[e[201]||(e[201]=l("label",{class:"text-xs w-16"},"Setor",-1)),u(l("select",{"onUpdate:modelValue":e[87]||(e[87]=t=>w.value.setor=t),class:"form-input w-full"},[e[200]||(e[200]=l("option",{value:""},"Selecione um setor...",-1)),(c(!0),r(L,null,T(_e(w.value.local_id),t=>(c(),r("option",{key:"st"+(t.value??t.id??t.text??t.setor),value:t.text??t.label??t.nome??t.setor},m(t.text??t.label??t.nome??t.setor),9,Sn))),128))],512),[[R,w.value.setor]])]),l("div",zn,[l("div",$n,[e[202]||(e[202]=l("label",{class:"text-xs"},"Atividade",-1)),l("div",Un,[u(l("input",{"onUpdate:modelValue":e[88]||(e[88]=t=>w.value.atividade=t),onFocus:e[89]||(e[89]=t=>{q.value=!0,S()}),onInput:e[90]||(e[90]=t=>q.value=!0),placeholder:"Buscar atividade...",class:"form-input w-full"},null,544),[[b,w.value.atividade]]),q.value&&Z.value.length?(c(),r("ul",Nn,[(c(!0),r(L,null,T(Z.value,t=>(c(),r("li",{key:"atv"+t.value,class:"cursor-pointer px-2 py-1 hover:bg-zinc-100 dark:hover:bg-zinc-800",onMousedown:Ge(i=>O(t),["prevent"])},m(t.text),41,An))),128))])):$("",!0)])]),u(l("input",{"onUpdate:modelValue":e[91]||(e[91]=t=>w.value.funcao=t),placeholder:"Função",class:"form-input"},null,512),[[b,w.value.funcao]])]),l("div",In,[l("div",Pn,[l("label",Vn,[u(l("input",{type:"radio",value:"HORA","onUpdate:modelValue":e[92]||(e[92]=t=>w.value.medicao=t)},null,512),[[ve,w.value.medicao]]),e[203]||(e[203]=l("span",null,"Por Hora",-1))]),l("label",En,[u(l("input",{type:"radio",value:"VALOR_FECHADO","onUpdate:modelValue":e[93]||(e[93]=t=>w.value.medicao=t)},null,512),[[ve,w.value.medicao]]),e[204]||(e[204]=l("span",null,"Valor Fechado",-1))])]),u(l("input",{"onUpdate:modelValue":e[94]||(e[94]=t=>w.value.cargaHoras=t),placeholder:"Carga (ex: 220h/mês)",class:"form-input"},null,512),[[b,w.value.cargaHoras]]),u(l("input",{"onUpdate:modelValue":e[95]||(e[95]=t=>w.value.maximoAdic=t),placeholder:"Adicional Máx",class:"form-input"},null,512),[[b,w.value.maximoAdic]])]),e[205]||(e[205]=l("p",{class:"text-xs text-zinc-600"},"Valores Profissional",-1)),l("div",Ln,[u(l("input",{"onUpdate:modelValue":e[96]||(e[96]=t=>w.value.horaNorProf=t),placeholder:"Normal",class:"form-input"},null,512),[[b,w.value.horaNorProf]]),u(l("input",{"onUpdate:modelValue":e[97]||(e[97]=t=>w.value.extraProf=t),placeholder:"Extra",class:"form-input"},null,512),[[b,w.value.extraProf]]),u(l("input",{"onUpdate:modelValue":e[98]||(e[98]=t=>w.value.noturnoProf=t),placeholder:"Noturno",class:"form-input"},null,512),[[b,w.value.noturnoProf]]),u(l("input",{"onUpdate:modelValue":e[99]||(e[99]=t=>w.value.extraNotProf=t),placeholder:"Extra Noturno",class:"form-input"},null,512),[[b,w.value.extraNotProf]])]),e[206]||(e[206]=l("p",{class:"text-xs text-zinc-600 bor"},"Valores Cliente",-1)),l("div",Tn,[u(l("input",{"onUpdate:modelValue":e[100]||(e[100]=t=>w.value.horaNorCli=t),placeholder:"Normal",class:"form-input"},null,512),[[b,w.value.horaNorCli]]),u(l("input",{"onUpdate:modelValue":e[101]||(e[101]=t=>w.value.extraCli=t),placeholder:"Extra",class:"form-input"},null,512),[[b,w.value.extraCli]]),u(l("input",{"onUpdate:modelValue":e[102]||(e[102]=t=>w.value.noturnoCli=t),placeholder:"Noturno",class:"form-input"},null,512),[[b,w.value.noturnoCli]]),u(l("input",{"onUpdate:modelValue":e[103]||(e[103]=t=>w.value.extraNotCli=t),placeholder:"Extra Noturno",class:"form-input"},null,512),[[b,w.value.extraNotCli]])])]),l("div",{class:"mt-auto p-3 border-t bg-white dark:bg-zinc-900"},[l("div",{class:"flex justify-end gap-2"},[l("button",{class:"btn btn-secondary btn-sm",onClick:ye},"Cancelar"),l("button",{class:"btn btn-primary btn-sm",onClick:dt},"Salvar")])])])):$("",!0)],2)],2)]),_:1},8,["name"])],2)):$("",!0)}},Bn=Dt(jn,[["__scopeId","data-v-09abe7df"]]);export{Bn as C,qn as c,qt as g,Mt as l};
