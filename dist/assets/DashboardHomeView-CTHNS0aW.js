import{d as wt,r as v,i as ht,s as es,c as u,o as c,t as C,x as d,k as l,a as t,b as x,w as p,y as R,v as Y,z as ts,A as ss,e as w,f as h,_ as Q,F as de,B as ft,C as os,l as ls,u as as}from"./index-COqVfnXd.js";import{A as is}from"./AppConstants-096u6u1O.js";import{_ as ns}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-Cce2uIDO.js";import{g as gt,a as Fe,b as ds,c as rs,d as us,e as cs,f as vs,h as ps,i as ms,j as xs,k as _s,l as bs,m as fs,n as gs,o as ys}from"./dashboard-KDCoz-Uq.js";import"./api-DJGMUGZv.js";import"./http-CfBk4xsK.js";const n=wt({__name:"CountUp",props:{value:{},duration:{},formatter:{type:Function}},setup(Ee){const T=Ee,S=v("â€”");function I(z){return Math.round(z).toLocaleString("pt-BR")}function $(z,P,q){if(!Number.isFinite(P)){S.value="â€”";return}const N=performance.now(),be=P-z;function F(se){const J=Math.min(1,(se-N)/q),K=z+be*J,X=T.formatter||I;S.value=X(K),J<1&&requestAnimationFrame(F)}requestAnimationFrame(F)}return ht(()=>{const z=typeof T.value=="number"?T.value:0;$(0,z,T.duration??800)}),es(()=>T.value,(z,P)=>{$(typeof P=="number"?P:0,typeof z=="number"?z:0,T.duration??800)}),(z,P)=>(c(),u("span",null,C(S.value),1))}}),ws={class:"space-y-4 p-4"},hs={class:"card p-4 sticky top-0 z-10"},ks={class:"flex flex-wrap items-center gap-2"},Cs={class:"flex items-center gap-1 text-sm"},Ss={key:0,class:"mt-3 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 text-sm"},zs={class:"flex items-center gap-2"},Ds={class:"flex items-center gap-2"},As={class:"flex items-center gap-2"},Os={class:"flex items-center gap-2"},Ms={class:"flex items-center gap-2"},Is={class:"flex items-center gap-2"},Fs={class:"flex items-center gap-2"},Es={class:"flex items-center gap-2"},Us={class:"flex items-center gap-2"},Ps={class:"flex items-center gap-2"},Ls={class:"flex items-center gap-2"},Ts={class:"flex items-center gap-2"},Vs={class:"flex items-center gap-2"},Ns={class:"flex items-center gap-2"},Rs={class:"flex items-center gap-2"},js={class:"flex items-center gap-2"},$s={class:"flex items-center gap-2"},qs={class:"flex items-center gap-2"},Bs={class:"flex items-center gap-2"},Gs={class:"mb-2 flex flex-wrap items-center justify-between gap-2"},Hs={key:0,class:"text-sm text-zinc-500"},Ws={class:"card p-4"},Ys={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3"},Qs={class:"flex items-center justify-between"},Js={class:"flex items-center gap-1 text-xs text-zinc-500"},Ks={class:"text-2xl font-semibold"},Xs={class:"card p-4 border-l-4 border-yellow-600"},Zs={class:"flex items-center gap-1 text-xs text-zinc-500"},eo={class:"text-2xl font-semibold"},to={class:"card p-4 border-l-4 border-yellow-600"},so={class:"flex items-center gap-1 text-xs text-zinc-500"},oo={class:"text-2xl font-semibold"},lo={class:"card p-4 border-l-4 border-yellow-600"},ao={class:"flex items-center gap-1 text-xs text-zinc-500"},io={class:"text-2xl font-semibold"},no={class:"card p-4"},ro={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3"},uo={class:"card p-4 border-l-4 border-yellow-600"},co={class:"text-2xl font-semibold"},vo={class:"card p-4 border-l-4 border-yellow-600"},po={class:"text-2xl font-semibold"},mo={class:"card p-4 border-l-4 border-yellow-600"},xo={class:"text-2xl font-semibold"},_o={class:"card p-4 border-l-4 border-yellow-600"},bo={class:"text-2xl font-semibold"},fo={class:"card p-4 border-l-4 border-yellow-600"},go={class:"text-2xl font-semibold"},yo={class:"card p-4 border-l-4 border-yellow-600"},wo={class:"text-2xl font-semibold"},ho={key:0,class:"card p-4"},ko={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3"},Co={class:"card p-4 border-l-4 border-yellow-600"},So={class:"text-2xl font-semibold"},zo={class:"card p-4 border-l-4 border-yellow-600"},Do={class:"text-2xl font-semibold"},Ao={class:"card p-4 border-l-4 border-yellow-600"},Oo={class:"text-2xl font-semibold"},Mo={class:"card p-4 border-l-4 border-yellow-600"},Io={class:"text-2xl font-semibold"},Fo={class:"card p-4"},Eo={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3"},Uo={class:"flex items-center gap-1 text-xs text-zinc-500"},Po={class:"text-2xl font-semibold"},Lo={class:"card p-4 border-l-4 border-yellow-600"},To={class:"flex items-center gap-1 text-xs text-zinc-500"},Vo={class:"text-2xl font-semibold"},No={class:"card p-4 border-l-4 border-yellow-600"},Ro={class:"flex items-center gap-1 text-xs text-zinc-500"},jo={class:"text-2xl font-semibold"},$o={class:"card p-4 border-l-4 border-yellow-600"},qo={class:"flex items-center gap-1 text-xs text-zinc-500"},Bo={class:"text-2xl font-semibold"},Go={key:1,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3"},Ho={class:"card p-4"},Wo={class:"text-2xl font-semibold"},Yo={class:"card p-4"},Qo={class:"text-2xl font-semibold"},Jo={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3"},Ko={class:"card p-4"},Xo={class:"text-2xl font-semibold"},Zo={class:"card p-4"},el={class:"text-2xl font-semibold"},tl={class:"card p-4"},sl={class:"text-2xl font-semibold"},ol={class:"card p-4"},ll={class:"text-2xl font-semibold"},al={key:2,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3"},il={class:"card p-4"},nl={class:"text-2xl font-semibold"},dl={class:"card p-4"},rl={class:"text-2xl font-semibold"},ul={class:"card p-4"},cl={class:"text-2xl font-semibold"},vl={key:3,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3"},pl={class:"card p-4"},ml={class:"text-2xl font-semibold"},xl={class:"card p-4"},_l={class:"text-2xl font-semibold"},bl={class:"card p-4"},fl={class:"text-2xl font-semibold"},gl={key:4,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3"},yl={class:"card p-4"},wl={class:"text-2xl font-semibold"},hl={class:"card p-4"},kl={class:"text-2xl font-semibold"},Cl={key:5,class:"grid grid-cols-1 lg:grid-cols-2 gap-3"},Sl={key:0,class:"card p-4"},zl={class:"grid grid-cols-1 sm:grid-cols-3 gap-3"},Dl=["onClick"],Al={class:"flex items-center gap-3"},Ol={class:"text-sm font-medium"},Ml={class:"text-xs text-zinc-500"},Il={class:"mt-4 space-y-2"},Fl=["onClick"],El={class:"flex items-center justify-between text-xs"},Ul={class:"flex items-center gap-2"},Pl={class:"w-6 h-6 rounded-full bg-zinc-800 text-zinc-100 flex items-center justify-center text-[10px]"},Ll={class:"text-zinc-600"},Tl={class:"text-zinc-500"},Vl={class:"h-2 bg-zinc-800/40 rounded"},Nl={key:1,class:"card p-4"},Rl={class:"space-y-2"},jl={class:"card p-2 border-l-2 border-yellow-600"},$l={class:"text-[20px] font-semibold"},ql={class:"card p-2 border-l-2 border-yellow-600"},Bl={class:"text-[20px] font-semibold"},Gl={class:"card p-2 border-l-2 border-yellow-600"},Hl={class:"text-[20px] font-semibold"},Wl={key:0,class:"card p-4"},Yl={class:"space-y-2"},Ql={class:"text-[20px] font-semibold"},Jl={class:"text-[20px] font-semibold"},Kl={class:"text-[20px] font-semibold"},Xl={class:"text-[20px] font-semibold"},Zl={class:"card p-2 border-l-2 border-yellow-600"},ea={class:"text-[20px] font-semibold"},ta={key:6,class:"card p-4"},sa={key:7,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3"},oa={class:"card p-4"},la={class:"text-2xl font-semibold"},aa={class:"card p-4"},ia={class:"text-2xl font-semibold"},na={class:"card p-4"},da={class:"text-2xl font-semibold"},ra={class:"card p-4"},ua={class:"grid grid-cols-1 lg:grid-cols-3 gap-3 items-center"},ca={class:"text-[24px] font-semibold"},va={class:"mt-3 grid grid-cols-2 gap-2 text-xs"},pa={class:"card p-2 border-l-2 border-yellow-600 flex items-center justify-between"},ma={class:"card p-2 border-l-2 border-yellow-600 flex items-center justify-between"},xa={class:"card p-2 border-l-2 border-yellow-600 flex items-center justify-between"},_a={class:"card p-2 border-l-2 border-yellow-600 flex items-center justify-between"},ba={class:"card p-2 border-l-2 border-yellow-600 flex items-center justify-between col-span-2"},fa={class:"lg:col-span-2"},ga={key:8,class:"grid grid-cols-1 lg:grid-cols-2 gap-3"},ya={key:0,class:"card p-4"},wa={key:1,class:"card p-4"},ha={key:9,class:"grid grid-cols-1 lg:grid-cols-2 gap-3"},ka={key:0,class:"card p-4"},Ca={key:1,class:"card p-4"},Sa={class:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-3"},za={class:"card p-2 border-l-2 border-yellow-600"},Da={class:"text-[20px] font-semibold"},Aa={class:"card p-2 border-l-2 border-yellow-600"},Oa={class:"text-[20px] font-semibold"},Ma={class:"card p-2 border-l-2 border-yellow-600"},Ia={class:"text-[20px] font-semibold"},Fa={class:"card p-4"},Ea={class:"flex items-center justify-between mb-3"},Ua={class:"flex flex-wrap gap-2"},Pa={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 mb-3"},La={class:"card p-2 border-l-2 border-yellow-600"},Ta={class:"text-[20px] font-semibold"},Va={class:"card p-2 border-l-2 border-yellow-600"},Na={class:"text-[20px] font-semibold"},Ra={class:"card p-2 border-l-2 border-yellow-600"},ja={class:"text-[20px] font-semibold"},$a={class:"card p-2 border-l-2 border-yellow-600"},qa={class:"text-[20px] font-semibold"},Ba={class:"grid grid-cols-1 sm:grid-cols-3 gap-2 mb-3"},Ga={class:"card p-2 border-l-2 border-yellow-600"},Ha={class:"text-[20px] font-semibold"},Wa={class:"card p-2 border-l-2 border-yellow-600"},Ya={class:"text-[20px] font-semibold"},Qa={class:"card p-2 border-l-2 border-yellow-600"},Ja={class:"text-[20px] font-semibold"},Ka={class:"grid grid-cols-1 sm:grid-cols-3 gap-2 mb-3"},Xa={class:"card p-2 border-l-2 border-yellow-600"},Za={class:"text-[20px] font-semibold"},ei={class:"card p-2 border-l-2 border-yellow-600"},ti={class:"text-[20px] font-semibold"},si={class:"card p-2 border-l-2 border-yellow-600"},oi={class:"text-[20px] font-semibold"},li={class:"grid grid-cols-1 sm:grid-cols-3 gap-2 mb-3"},ai={class:"card p-2 border-l-2 border-yellow-600"},ii={class:"text-[20px] font-semibold"},ni={class:"card p-2 border-l-2 border-yellow-600"},di={class:"text-[20px] font-semibold"},ri={class:"card p-2 border-l-2 border-yellow-600"},ui={class:"text-[20px] font-semibold"},ci={key:10,class:"card p-4"},vi={key:11,class:"card p-4"},yt="dashboard_widgets_v1",gi=wt({__name:"DashboardHomeView",setup(Ee){const T=v("30d"),S=v(""),I=v(""),$=v(""),z=v(""),P=v(""),q=v(""),N=v(""),be=as();function F(s={}){const e={};S.value&&(e.date_start=S.value),I.value&&(e.date_end=I.value),$.value&&(e.clienteId=String($.value)),z.value&&(e.unidadeId=String(z.value)),P.value&&(e.setorId=String(P.value)),q.value&&(e.tipo_evento=String(q.value)),N.value&&(e.uf=String(N.value)),B.value&&(e.cidade=String(B.value)),oe.value&&(e.status=String(oe.value)),Object.entries(s).forEach(([a,r])=>{r!=null&&(e[a]=String(r))}),be.push({path:is.NAVIGATION_PAGE_ADM_REQUESTS,query:e})}function se(s={}){const e={};N.value&&(e.uf=String(N.value)),B.value&&(e.cidade=String(B.value)),Object.entries(s).forEach(([a,r])=>{r!=null&&(e[a]=String(r))}),be.push({path:"/admin/cooperados",query:e})}const J=v([]),K=v([]),X=v([]),B=v(""),oe=v(""),ge=v(!1),b=v(null),ye=v(null),re=v([]),le=v([]),ue=v([]),ce=v([]),we=v([]),G=v(null),ae=v([]),H=v(null),V=v(null),g=v(null),D=v(null),A=v(null),O=v(null),Z=v(null),ve=v("clientes"),ee=d(()=>{const s=i.value,e=ve.value;return e==="clientes"&&s.w_comp_clients&&g.value?"clientes":e==="eventos"&&s.w_comp_events&&D.value?"eventos":e==="financeiro"&&s.w_comp_finance&&A.value?"financeiro":e==="slas"&&s.w_comp_slas&&O.value?"slas":s.w_comp_clients&&g.value?"clientes":s.w_comp_events&&D.value?"eventos":s.w_comp_finance&&A.value?"financeiro":s.w_comp_slas&&O.value?"slas":e}),he=v(!1),i=v({w_kpi_oper_lead_exec:!0,w_kpi_conv_extra:!0,w_kpi_pessoas:!0,w_kpi_fin_extra:!0,w_kpi_qualidade:!0,w_chart_series_solic:!0,w_chart_status_pizza:!0,w_chart_top_clientes:!0,w_chart_fin_previsto:!0,w_chart_status_monthly:!0,w_chart_heatmap_checkins:!0,w_kpi_mobility:!0,w_chart_mob_ranking:!0,w_chart_mob_flows:!0,w_kpi_coop_compliance:!0,w_comp_clients:!0,w_comp_events:!0,w_comp_finance:!0,w_comp_slas:!0});function kt(){try{const s=localStorage.getItem(yt);s&&Object.assign(i.value,JSON.parse(s))}catch{}}function y(){try{localStorage.setItem(yt,JSON.stringify(i.value))}catch{}}function Ct(){if(!S.value||!I.value)return 30;const s=new Date(S.value+"T00:00:00"),e=new Date(I.value+"T00:00:00"),a=Math.round((+e-+s)/864e5)+1;return Math.max(1,a)}function St(){const s=Ct(),e=new Date(S.value+"T00:00:00");e.setDate(e.getDate()-1);const a=new Date(e);a.setDate(e.getDate()-s+1);const r=new URLSearchParams(k());return r.set("date_start",a.toISOString().slice(0,10)),r.set("date_end",e.toISOString().slice(0,10)),r}function zt(s,e){return typeof s!="number"||typeof e!="number"||e===0?null:(s-e)/e*100}const ke=d(()=>{var s,e,a,r;return zt((e=(s=b.value)==null?void 0:s.operacional)==null?void 0:e.solicitacoes,(r=(a=ye.value)==null?void 0:a.operacional)==null?void 0:r.solicitacoes)});async function Dt(){try{ye.value=await gt(St())}catch{ye.value=null}try{const s=await Fe(new URLSearchParams([...k(),["metric","solicitacoes"],["groupBy","day"]]));re.value=Array.isArray(s==null?void 0:s.series)?s.series:[]}catch{re.value=[]}try{const s=await ds(k());le.value=Array.isArray(s==null?void 0:s.status)?s.status:[]}catch{le.value=[]}try{const s=await rs(new URLSearchParams([...k(),["dimension","clientes"],["metric","faturamento"],["limit","10"]]));ue.value=Array.isArray(s==null?void 0:s.items)?s.items:[]}catch{ue.value=[]}try{const s=await Fe(new URLSearchParams([...k(),["metric","faturamento"],["groupBy","month"]])),e=await Fe(new URLSearchParams([...k(),["metric","previsto"],["groupBy","month"]]));ce.value=Array.isArray(s==null?void 0:s.series)?s.series:[],we.value=Array.isArray(e==null?void 0:e.series)?e.series:[]}catch{ce.value=[],we.value=[]}try{const s=await us(new URLSearchParams([...k(),["groupBy","month"]]));J.value=Array.isArray(s==null?void 0:s.categories)?s.categories:[],K.value=Array.isArray(s==null?void 0:s.series)?s.series:[]}catch{J.value=[],K.value=[]}try{const s=await cs(k());X.value=Array.isArray(s==null?void 0:s.series)?s.series:[]}catch{X.value=[]}try{const s=await vs(k());G.value=s||null}catch{G.value=null}try{const s=await ps(new URLSearchParams([...k(),["limit","10"]]));ae.value=Array.isArray(s==null?void 0:s.items)?s.items:[]}catch{ae.value=[]}try{const s=await ms(k());H.value=s||null}catch{H.value=null}try{const s=await xs(k());V.value=s||null}catch{V.value=null}try{const s=await _s(k());g.value=s||null}catch{g.value=null}try{const s=await bs(k());D.value=s||null}catch{D.value=null}try{const s=await fs(k());A.value=s||null}catch{A.value=null}try{const s=await gs(k());O.value=s||null}catch{O.value=null}try{const s=await ys(k());Z.value=s||null}catch{Z.value=null}}function W(s){const e=s.getFullYear(),a=String(s.getMonth()+1).padStart(2,"0"),r=String(s.getDate()).padStart(2,"0");return`${e}-${a}-${r}`}function pe(s){T.value=s;const e=new Date;if(s==="hoje")S.value=W(e),I.value=W(e);else if(s==="7d"){const a=new Date(e);a.setDate(e.getDate()-6),S.value=W(a),I.value=W(e)}else if(s==="30d"){const a=new Date(e);a.setDate(e.getDate()-29),S.value=W(a),I.value=W(e)}else if(s==="mensal"){const a=new Date(e.getFullYear(),e.getMonth(),1),r=new Date(e.getFullYear(),e.getMonth()+1,0);S.value=W(a),I.value=W(r)}}function k(){const s=new URLSearchParams;return S.value&&s.append("date_start",S.value),I.value&&s.append("date_end",I.value),$.value&&s.append("clienteId",$.value),z.value&&s.append("unidadeId",z.value),P.value&&s.append("setorId",P.value),q.value&&s.append("tipo_evento",q.value),N.value&&s.append("uf",N.value),B.value&&s.append("cidade",B.value),oe.value&&s.append("status",oe.value),s}async function Ue(){ge.value=!0;try{const s=await gt(k());b.value=s||null,await Dt()}catch(s){console.warn("[dashboard-home] summary failed",s),b.value=null}finally{ge.value=!1}}const m={gold:"#d4af37",gray:"#9ca3af",grayDark:"#6b7280"},Pe={SOLICITADO:"#6b7280",CONFIRMADO:m.gold,EM_EXECUCAO:"#9ca3af",CONCLUIDO:m.gold,CANCELADO:"#4b5563",NO_SHOW:"#374151"},At=d(()=>[{name:"SolicitaÃ§Ãµes",data:re.value.map(s=>s.y)}]),Ot=d(()=>({chart:{type:"line",toolbar:{show:!1},foreColor:m.gray,events:{dataPointSelection:(s,e,a)=>{var _;const r=a==null?void 0:a.dataPointIndex,f=(_=re.value[r])==null?void 0:_.x;f&&F({date_start:f,date_end:f})}}},colors:[m.gold],stroke:{curve:"smooth"},xaxis:{categories:re.value.map(s=>s.x)},yaxis:{labels:{formatter:s=>String(Math.round(s))}}})),Mt=d(()=>le.value.map(s=>s.count)),It=d(()=>({labels:le.value.map(s=>s.status),legend:{position:"bottom"},chart:{type:"donut",foreColor:m.gray,toolbar:{show:!1},events:{dataPointSelection:(s,e,a)=>{var _;const r=a==null?void 0:a.dataPointIndex,f=(_=le.value[r])==null?void 0:_.status;f&&F({status:f})}}},colors:le.value.map(s=>Pe[s.status]||m.gray)})),Ft=d(()=>[{name:"Faturamento",data:ue.value.map(s=>Math.round(s.value))}]),Et=d(()=>({chart:{type:"bar",toolbar:{show:!1},foreColor:m.gray,events:{dataPointSelection:(s,e,a)=>{var _;const r=a==null?void 0:a.dataPointIndex,f=(_=ue.value[r])==null?void 0:_.label;f&&F({cliente:f})}}},colors:[m.gold],plotOptions:{bar:{horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:ue.value.map(s=>s.label)}})),Ut=d(()=>[{name:"Faturado",data:ce.value.map(s=>s.y)},{name:"Previsto",data:we.value.map(s=>s.y)}]),Pt=d(()=>({chart:{type:"bar",stacked:!0,toolbar:{show:!1},foreColor:m.gray,events:{dataPointSelection:(s,e,a)=>{var _;const r=a==null?void 0:a.dataPointIndex,f=(_=ce.value[r])==null?void 0:_.x;if(f){const E=Number(f.slice(0,4)),U=Number(f.slice(5,7))-1,L=new Date(E,U,1).toISOString().slice(0,10),j=new Date(E,U+1,0).toISOString().slice(0,10);F({date_start:L,date_end:j})}}}},colors:[m.gold,m.grayDark],dataLabels:{enabled:!1},xaxis:{categories:ce.value.map(s=>s.x)}})),Lt=d(()=>K.value),Tt=d(()=>({chart:{type:"bar",stacked:!0,toolbar:{show:!1},foreColor:m.gray,events:{dataPointSelection:(s,e,a)=>{var U;const r=a==null?void 0:a.dataPointIndex,f=a==null?void 0:a.seriesIndex,_=J.value[r],E=(U=K.value[f])==null?void 0:U.name;if(_&&E){const L=Number(_.slice(0,4)),j=Number(_.slice(5,7))-1,te=new Date(L,j,1).toISOString().slice(0,10),fe=new Date(L,j+1,0).toISOString().slice(0,10);F({date_start:te,date_end:fe,status:E})}}}},legend:{position:"bottom"},colors:K.value.map(s=>Pe[s.name]||m.gray),dataLabels:{enabled:!1},xaxis:{categories:J.value}})),Vt=d(()=>Math.max(1,...ae.value.map(s=>s.distancia_km||0)));function Le(s){return(s||"").split(/\s+/).map(e=>e[0]).filter(Boolean).slice(0,2).join("").toUpperCase()}function Ce(s){const e=typeof s=="number"?s:NaN;return Number.isFinite(e)?e*100:0}const Nt=d(()=>g.value?[g.value.expired_contracts,g.value.expiring_30d,g.value.missing_cnds,g.value.missing_registration]:[]),Rt=d(()=>({chart:{type:"donut",foreColor:m.gray,animations:{enabled:!0}},labels:["Contratos vencidos","Vencem 30d","CNDs pendentes","Cadastro incompleto"],legend:{position:"bottom"},dataLabels:{enabled:!1},colors:[m.gold,"#9ca3af","#6b7280","#4b5563"]})),jt=d(()=>D.value?[D.value.checklist_incomplete,D.value.escala_incomplete,D.value.docs_missing]:[]),$t=d(()=>({chart:{type:"donut",foreColor:m.gray,animations:{enabled:!0}},labels:["Checklist incompleto","Escala incompleta","Docs pendentes"],legend:{position:"bottom"},dataLabels:{enabled:!1},colors:[m.gold,"#9ca3af","#6b7280"]})),qt=d(()=>A.value?[A.value.nf_pending,A.value.divergencias,A.value.tax_inconsistencies]:[]),Bt=d(()=>({chart:{type:"donut",foreColor:m.gray,animations:{enabled:!0}},labels:["NF pendentes","DivergÃªncias","Tributos inconsistentes"],legend:{position:"bottom"},dataLabels:{enabled:!1},colors:[m.gold,"#9ca3af","#6b7280"]})),Gt=d(()=>O.value?[O.value.aceite_below_target,O.value.fillrate_below_target,O.value.leadtime_above_target]:[]),Ht=d(()=>({chart:{type:"donut",foreColor:m.gray,animations:{enabled:!0}},labels:["Aceite abaixo da meta","Fill Rate abaixo","Lead time acima"],legend:{position:"bottom"},dataLabels:{enabled:!1},colors:[m.gold,"#9ca3af","#6b7280"]})),Se=d(()=>g.value?g.value.expired_contracts+g.value.expiring_30d+g.value.missing_cnds+g.value.missing_registration:0),ze=d(()=>D.value?D.value.checklist_incomplete+D.value.escala_incomplete+D.value.docs_missing:0),De=d(()=>A.value?A.value.nf_pending+A.value.divergencias+A.value.tax_inconsistencies:0),Ae=d(()=>O.value?O.value.aceite_below_target+O.value.fillrate_below_target+O.value.leadtime_above_target:0),Oe=d(()=>V.value?V.value.missing_photo+V.value.missing_background_check+V.value.missing_medical_certificate+V.value.missing_functions:0),Wt=d(()=>Se.value+ze.value+De.value+Ae.value+Oe.value),Yt=d(()=>[Se.value,ze.value,De.value,Ae.value,Oe.value]),Qt=d(()=>({chart:{type:"donut",foreColor:m.gray,animations:{enabled:!0}},labels:["Clientes","Eventos","Financeiro","SLAs","Cooperados"],legend:{position:"bottom"},dataLabels:{enabled:!1},colors:[m.gold,"#9ca3af","#6b7280","#4b5563","#d1d5db"]})),Jt=d(()=>H.value?H.value.origens.map((s,e)=>({name:s,data:H.value.destinos.map((a,r)=>({x:a,y:H.value.matrix[e][r]}))})):[]),Kt=d(()=>({chart:{type:"heatmap",toolbar:{show:!1},foreColor:m.gray,animations:{enabled:!0,easing:"easeinout",speed:500,dynamicAnimation:{enabled:!0,speed:300}},events:{dataPointSelection:(s,e,a)=>{var U,L;const r=a==null?void 0:a.seriesIndex,f=a==null?void 0:a.dataPointIndex,_=(U=H.value)==null?void 0:U.origens[r],E=(L=H.value)==null?void 0:L.destinos[f];_&&E&&F({origem:_,destino:E})}}},dataLabels:{enabled:!1},plotOptions:{heatmap:{shadeIntensity:.5,colorScale:{ranges:[{from:0,to:5,color:"#1f2937"},{from:6,to:40,color:"#6b7280"},{from:41,to:200,color:m.gold}]}}}})),Xt=d(()=>X.value),Zt=d(()=>({chart:{type:"heatmap",toolbar:{show:!1},foreColor:m.gray,events:{dataPointSelection:(s,e,a)=>{var U,L,j,te;const r=a==null?void 0:a.seriesIndex,f=a==null?void 0:a.dataPointIndex,_=(U=X.value[r])==null?void 0:U.name,E=(te=(j=(L=X.value[r])==null?void 0:L.data)==null?void 0:j[f])==null?void 0:te.x;_&&E&&F({dia:_,hora:E})}}},dataLabels:{enabled:!1},plotOptions:{heatmap:{shadeIntensity:.5,colorScale:{ranges:[{from:0,to:10,color:"#1f2937"},{from:11,to:40,color:"#6b7280"},{from:41,to:200,color:m.gold}]}}}})),me=d(()=>{var s;return((s=b.value)==null?void 0:s.operacional)||{}}),ie=d(()=>{var s;return((s=b.value)==null?void 0:s.convites)||{}}),xe=d(()=>{var s;return((s=b.value)==null?void 0:s.eventos)||{}}),Me=d(()=>{var s;return((s=b.value)==null?void 0:s.financeiro)||{}});function Ie(s){return typeof s!="number"?"â€”":(s*100).toFixed(1)+"%"}function M(s){return s==null?"â€”":Intl.NumberFormat("pt-BR").format(s)}function _e(s){return typeof s!="number"?"â€”":s.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}return ht(()=>{pe("30d"),kt(),Ue()}),(s,e)=>{var r,f,_,E,U,L,j,te,fe,Te,Ve,Ne,Re,je,$e,qe,Be,Ge,He,We,Ye,Qe,Je,Ke,Xe,Ze,et,tt,st,ot,lt,at,it,nt,dt,rt,ut,ct,vt,pt,mt,xt,_t;const a=ls("apexchart");return c(),u("section",ws,[l(ns),t("div",hs,[t("div",ks,[t("div",Cs,[t("button",{class:R(["px-2 py-1 rounded border",T.value==="hoje"?"border-blue-600 text-blue-700":"border-zinc-300"]),onClick:e[0]||(e[0]=o=>pe("hoje"))},"Hoje",2),t("button",{class:R(["px-2 py-1 rounded border",T.value==="7d"?"border-blue-600 text-blue-700":"border-zinc-300"]),onClick:e[1]||(e[1]=o=>pe("7d"))},"7d",2),t("button",{class:R(["px-2 py-1 rounded border",T.value==="30d"?"border-blue-600 text-blue-700":"border-zinc-300"]),onClick:e[2]||(e[2]=o=>pe("30d"))},"30d",2),t("button",{class:R(["px-2 py-1 rounded border",T.value==="mensal"?"border-blue-600 text-blue-700":"border-zinc-300"]),onClick:e[3]||(e[3]=o=>pe("mensal"))},"Mensal",2)]),p(t("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>S.value=o),type:"date",class:"px-2 py-1 border rounded"},null,512),[[Y,S.value]]),e[44]||(e[44]=t("span",{class:"text-zinc-400"},"â†’",-1)),p(t("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>I.value=o),type:"date",class:"px-2 py-1 border rounded"},null,512),[[Y,I.value]]),p(t("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>$.value=o),placeholder:"Cliente",class:"px-2 py-1 border rounded min-w-[160px]"},null,512),[[Y,$.value]]),p(t("input",{"onUpdate:modelValue":e[7]||(e[7]=o=>z.value=o),placeholder:"Unidade",class:"px-2 py-1 border rounded min-w-[140px]"},null,512),[[Y,z.value]]),p(t("input",{"onUpdate:modelValue":e[8]||(e[8]=o=>P.value=o),placeholder:"Setor",class:"px-2 py-1 border rounded min-w-[120px]"},null,512),[[Y,P.value]]),p(t("input",{"onUpdate:modelValue":e[9]||(e[9]=o=>q.value=o),placeholder:"Tipo Evento",class:"px-2 py-1 border rounded min-w-[140px]"},null,512),[[Y,q.value]]),p(t("input",{"onUpdate:modelValue":e[10]||(e[10]=o=>N.value=o),placeholder:"UF",class:"px-2 py-1 border rounded w-16"},null,512),[[Y,N.value]]),p(t("input",{"onUpdate:modelValue":e[11]||(e[11]=o=>B.value=o),placeholder:"Cidade",class:"px-2 py-1 border rounded min-w-[160px]"},null,512),[[Y,B.value]]),p(t("select",{"onUpdate:modelValue":e[12]||(e[12]=o=>oe.value=o),class:"px-2 py-1 border rounded"},[...e[43]||(e[43]=[ss('<option value="">Status</option><option value="SOLICITADO">Solicitado</option><option value="CONFIRMADO">Confirmado</option><option value="EM_EXECUCAO">Em ExecuÃ§Ã£o</option><option value="CONCLUIDO">ConcluÃ­do</option><option value="CANCELADO">Cancelado</option><option value="NO_SHOW">No-show</option>',7)])],512),[[ts,oe.value]]),t("button",{class:"btn btn-primary btn-sm",onClick:Ue},"Aplicar"),t("button",{class:"btn btn-secondary btn-sm",onClick:e[13]||(e[13]=o=>he.value=!he.value)},"Widgets")]),he.value?(c(),u("div",Ss,[t("label",zs,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[14]||(e[14]=o=>i.value.w_kpi_oper_lead_exec=o),onChange:y},null,544),[[h,i.value.w_kpi_oper_lead_exec]]),e[45]||(e[45]=w(" Operacional: Lead/ExecuÃ§Ã£o",-1))]),t("label",Ds,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[15]||(e[15]=o=>i.value.w_kpi_conv_extra=o),onChange:y},null,544),[[h,i.value.w_kpi_conv_extra]]),e[46]||(e[46]=w(" Convites: DesistÃªncias/Taxas",-1))]),t("label",As,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[16]||(e[16]=o=>i.value.w_kpi_pessoas=o),onChange:y},null,544),[[h,i.value.w_kpi_pessoas]]),e[47]||(e[47]=w(" Pessoas",-1))]),t("label",Os,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[17]||(e[17]=o=>i.value.w_comp_clients=o),onChange:y},null,544),[[h,i.value.w_comp_clients]]),e[48]||(e[48]=w(" Clientes: Compliance",-1))]),t("label",Ms,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[18]||(e[18]=o=>i.value.w_comp_events=o),onChange:y},null,544),[[h,i.value.w_comp_events]]),e[49]||(e[49]=w(" Eventos: Compliance",-1))]),t("label",Is,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[19]||(e[19]=o=>i.value.w_comp_finance=o),onChange:y},null,544),[[h,i.value.w_comp_finance]]),e[50]||(e[50]=w(" Financeiro: Compliance",-1))]),t("label",Fs,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[20]||(e[20]=o=>i.value.w_comp_slas=o),onChange:y},null,544),[[h,i.value.w_comp_slas]]),e[51]||(e[51]=w(" SLAs: Compliance",-1))]),t("label",Es,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[21]||(e[21]=o=>i.value.w_kpi_fin_extra=o),onChange:y},null,544),[[h,i.value.w_kpi_fin_extra]]),e[52]||(e[52]=w(" Financeiro: extras",-1))]),t("label",Us,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[22]||(e[22]=o=>i.value.w_kpi_qualidade=o),onChange:y},null,544),[[h,i.value.w_kpi_qualidade]]),e[53]||(e[53]=w(" Qualidade/Compliance",-1))]),t("label",Ps,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[23]||(e[23]=o=>i.value.w_kpi_coop_compliance=o),onChange:y},null,544),[[h,i.value.w_kpi_coop_compliance]]),e[54]||(e[54]=w(" Cooperados: Compliance",-1))]),t("label",Ls,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[24]||(e[24]=o=>i.value.w_chart_series_solic=o),onChange:y},null,544),[[h,i.value.w_chart_series_solic]]),e[55]||(e[55]=w(" GrÃ¡fico: SÃ©rie SolicitaÃ§Ãµes",-1))]),t("label",Ts,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[25]||(e[25]=o=>i.value.w_chart_status_pizza=o),onChange:y},null,544),[[h,i.value.w_chart_status_pizza]]),e[56]||(e[56]=w(" GrÃ¡fico: Pizza Status",-1))]),t("label",Vs,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[26]||(e[26]=o=>i.value.w_chart_top_clientes=o),onChange:y},null,544),[[h,i.value.w_chart_top_clientes]]),e[57]||(e[57]=w(" GrÃ¡fico: Top Clientes",-1))]),t("label",Ns,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[27]||(e[27]=o=>i.value.w_kpi_mobility=o),onChange:y},null,544),[[h,i.value.w_kpi_mobility]]),e[58]||(e[58]=w(" Mobilidade: KPIs",-1))]),t("label",Rs,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[28]||(e[28]=o=>i.value.w_chart_mob_ranking=o),onChange:y},null,544),[[h,i.value.w_chart_mob_ranking]]),e[59]||(e[59]=w(" Mobilidade: Ranking (Top 10)",-1))]),t("label",js,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[29]||(e[29]=o=>i.value.w_chart_mob_flows=o),onChange:y},null,544),[[h,i.value.w_chart_mob_flows]]),e[60]||(e[60]=w(" Mobilidade: Fluxos (origem x destino)",-1))]),t("label",$s,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[30]||(e[30]=o=>i.value.w_chart_fin_previsto=o),onChange:y},null,544),[[h,i.value.w_chart_fin_previsto]]),e[61]||(e[61]=w(" GrÃ¡fico: Faturado vs Previsto",-1))]),t("label",qs,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[31]||(e[31]=o=>i.value.w_chart_status_monthly=o),onChange:y},null,544),[[h,i.value.w_chart_status_monthly]]),e[62]||(e[62]=w(" GrÃ¡fico: Status por mÃªs",-1))]),t("label",Bs,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[32]||(e[32]=o=>i.value.w_chart_heatmap_checkins=o),onChange:y},null,544),[[h,i.value.w_chart_heatmap_checkins]]),e[63]||(e[63]=w(" GrÃ¡fico: Heatmap Check-ins",-1))])])):x("",!0)]),t("header",Gs,[e[64]||(e[64]=t("h2",{class:"text-lg font-semibold"},"Dashboard",-1)),ge.value?(c(),u("span",Hs,"Atualizandoâ€¦")):x("",!0)]),t("div",Ws,[e[69]||(e[69]=t("div",{class:"mb-2 text-sm font-semibold text-zinc-600"},"Operacional",-1)),t("div",Ys,[t("div",{class:"card p-4 border-l-4 border-yellow-600 cursor-pointer hover:ring-1 ring-yellow-600",onClick:e[33]||(e[33]=o=>F())},[t("div",Qs,[t("div",Js,[l(Q,{name:"document-text",class:"w-4 h-4 text-yellow-600"}),e[65]||(e[65]=t("span",null,"SolicitaÃ§Ãµes",-1))]),ke.value!==null?(c(),u("span",{key:0,class:R(["text-xs",ke.value>=0?"text-green-600":"text-red-600"])},C(ke.value.toFixed(1))+"%",3)):x("",!0)]),t("div",Ks,[l(n,{value:me.value.solicitacoes},null,8,["value"])])]),t("div",Xs,[t("div",Zs,[l(Q,{name:"users",class:"w-4 h-4 text-yellow-600"}),e[66]||(e[66]=t("span",null,"Profissionais Solicitados",-1))]),t("div",eo,[l(n,{value:me.value.profissionaisSolicitados},null,8,["value"])])]),t("div",to,[t("div",so,[l(Q,{name:"identification",class:"w-4 h-4 text-yellow-600"}),e[67]||(e[67]=t("span",null,"Profissionais Alocados",-1))]),t("div",oo,[l(n,{value:me.value.profissionaisAlocados},null,8,["value"])])]),t("div",lo,[t("div",ao,[l(Q,{name:"shield-check",class:"w-4 h-4 text-yellow-600"}),e[68]||(e[68]=t("span",null,"Fill Rate",-1))]),t("div",io,[l(n,{value:Ce(me.value.fillRate),formatter:o=>o.toFixed(1)+"%"},null,8,["value","formatter"])])])])]),t("div",no,[e[76]||(e[76]=t("div",{class:"mb-2 text-sm font-semibold text-zinc-600"},"Operacional â€” Resumo",-1)),t("div",ro,[t("div",uo,[e[70]||(e[70]=t("div",{class:"text-xs text-zinc-500"},"Eventos (total)",-1)),t("div",co,[l(n,{value:xe.value.total},null,8,["value"])])]),t("div",vo,[e[71]||(e[71]=t("div",{class:"text-xs text-zinc-500"},"Cooperados Solicitados",-1)),t("div",po,[l(n,{value:me.value.profissionaisSolicitados},null,8,["value"])])]),t("div",mo,[e[72]||(e[72]=t("div",{class:"text-xs text-zinc-500"},"Convites Enviados",-1)),t("div",xo,[l(n,{value:ie.value.enviados},null,8,["value"])])]),t("div",_o,[e[73]||(e[73]=t("div",{class:"text-xs text-zinc-500"},"Convites Aceitos",-1)),t("div",bo,[l(n,{value:ie.value.aceitos},null,8,["value"])])]),t("div",fo,[e[74]||(e[74]=t("div",{class:"text-xs text-zinc-500"},"DesistÃªncias",-1)),t("div",go,[l(n,{value:(f=(r=b.value)==null?void 0:r.convites)==null?void 0:f.desistencias},null,8,["value"])])]),t("div",yo,[e[75]||(e[75]=t("div",{class:"text-xs text-zinc-500"},"ReposiÃ§Ãµes",-1)),t("div",wo,[l(n,{value:((E=(_=b.value)==null?void 0:_.convites)==null?void 0:E.reposicoes)??0},null,8,["value"])])])])]),Z.value?(c(),u("div",ho,[e[81]||(e[81]=t("div",{class:"mb-2 text-sm font-semibold text-zinc-600"},"Disponibilidade de Profissionais",-1)),t("div",ko,[t("div",Co,[e[77]||(e[77]=t("div",{class:"text-xs text-zinc-500"},"Ocupados agora",-1)),t("div",So,[l(n,{value:Z.value.occupied},null,8,["value"])])]),t("div",zo,[e[78]||(e[78]=t("div",{class:"text-xs text-zinc-500"},"Liberam em 1 dia",-1)),t("div",Do,[l(n,{value:Z.value.freeing_1d},null,8,["value"])])]),t("div",Ao,[e[79]||(e[79]=t("div",{class:"text-xs text-zinc-500"},"Liberam em 7 dias",-1)),t("div",Oo,[l(n,{value:Z.value.freeing_7d},null,8,["value"])])]),t("div",Mo,[e[80]||(e[80]=t("div",{class:"text-xs text-zinc-500"},"DisponÃ­veis agora",-1)),t("div",Io,[l(n,{value:Z.value.available_now},null,8,["value"])])])])])):x("",!0),t("div",Fo,[e[86]||(e[86]=t("div",{class:"mb-2 text-sm font-semibold text-zinc-600"},"Eventos & ExecuÃ§Ã£o",-1)),t("div",Eo,[t("div",{class:"card p-4 border-l-4 border-yellow-600 cursor-pointer hover:ring-1 ring-yellow-600",onClick:e[34]||(e[34]=o=>F())},[t("div",Uo,[l(Q,{name:"squares-2x2",class:"w-4 h-4 text-yellow-600"}),e[82]||(e[82]=t("span",null,"Eventos",-1))]),t("div",Po,[l(n,{value:xe.value.total},null,8,["value"])])]),t("div",Lo,[t("div",To,[l(Q,{name:"map-pin",class:"w-4 h-4 text-yellow-600"}),e[83]||(e[83]=t("span",null,"Check-ins",-1))]),t("div",Vo,[l(n,{value:xe.value.checkin},null,8,["value"])])]),t("div",No,[t("div",Ro,[l(Q,{name:"map-pin",class:"w-4 h-4 text-yellow-600"}),e[84]||(e[84]=t("span",null,"Check-outs",-1))]),t("div",jo,[l(n,{value:xe.value.checkout},null,8,["value"])])]),t("div",$o,[t("div",qo,[l(Q,{name:"shield-check",class:"w-4 h-4 text-yellow-600"}),e[85]||(e[85]=t("span",null,"Taxa de ConclusÃ£o",-1))]),t("div",Bo,[l(n,{value:Ce(xe.value.taxaConclusao),formatter:o=>o.toFixed(1)+"%"},null,8,["value","formatter"])])])])]),i.value.w_kpi_oper_lead_exec?(c(),u("div",Go,[t("div",Ho,[e[87]||(e[87]=t("div",{class:"text-xs text-zinc-500"},"Lead Time MÃ©dio (h)",-1)),t("div",Wo,C(M((L=(U=b.value)==null?void 0:U.operacional)==null?void 0:L.leadTimeMedioHoras)),1)]),t("div",Yo,[e[88]||(e[88]=t("div",{class:"text-xs text-zinc-500"},"Tempo MÃ©dio de ExecuÃ§Ã£o (h)",-1)),t("div",Qo,C(M((te=(j=b.value)==null?void 0:j.operacional)==null?void 0:te.tempoExecucaoMedioHoras)),1)])])):x("",!0),t("div",Jo,[t("div",Ko,[e[89]||(e[89]=t("div",{class:"text-xs text-zinc-500"},"Convites Enviados",-1)),t("div",Xo,[l(n,{value:ie.value.enviados},null,8,["value"])])]),t("div",Zo,[e[90]||(e[90]=t("div",{class:"text-xs text-zinc-500"},"Convites Aceitos",-1)),t("div",el,[l(n,{value:ie.value.aceitos},null,8,["value"])])]),t("div",tl,[e[91]||(e[91]=t("div",{class:"text-xs text-zinc-500"},"Taxa de Aceite",-1)),t("div",sl,[l(n,{value:Ce(ie.value.taxaAceite),formatter:o=>o.toFixed(1)+"%"},null,8,["value","formatter"])])]),t("div",ol,[e[92]||(e[92]=t("div",{class:"text-xs text-zinc-500"},"No-show",-1)),t("div",ll,[l(n,{value:ie.value.noShow},null,8,["value"])])])]),i.value.w_kpi_conv_extra?(c(),u("div",al,[t("div",il,[e[93]||(e[93]=t("div",{class:"text-xs text-zinc-500"},"DesistÃªncias",-1)),t("div",nl,C(M((Te=(fe=b.value)==null?void 0:fe.convites)==null?void 0:Te.desistencias)),1)]),t("div",dl,[e[94]||(e[94]=t("div",{class:"text-xs text-zinc-500"},"Taxa de DesistÃªncia",-1)),t("div",rl,C(Ie((Ne=(Ve=b.value)==null?void 0:Ve.convites)==null?void 0:Ne.taxaDesistencia)),1)]),t("div",ul,[e[95]||(e[95]=t("div",{class:"text-xs text-zinc-500"},"Taxa de No-show",-1)),t("div",cl,C(Ie((je=(Re=b.value)==null?void 0:Re.convites)==null?void 0:je.taxaNoShow)),1)])])):x("",!0),i.value.w_kpi_pessoas?(c(),u("div",vl,[t("div",pl,[e[96]||(e[96]=t("div",{class:"text-xs text-zinc-500"},"Cooperados (total)",-1)),t("div",ml,[l(n,{value:(qe=($e=b.value)==null?void 0:$e.pessoas)==null?void 0:qe.cooperadosTotal},null,8,["value"])])]),t("div",xl,[e[97]||(e[97]=t("div",{class:"text-xs text-zinc-500"},"Cooperados Ativos",-1)),t("div",_l,[l(n,{value:(Ge=(Be=b.value)==null?void 0:Be.pessoas)==null?void 0:Ge.cooperadosAtivos},null,8,["value"])])]),t("div",bl,[e[98]||(e[98]=t("div",{class:"text-xs text-zinc-500"},"Engajados (30d)",-1)),t("div",fl,[l(n,{value:(We=(He=b.value)==null?void 0:He.pessoas)==null?void 0:We.engajados30d},null,8,["value"])])])])):x("",!0),i.value.w_kpi_fin_extra?(c(),u("div",gl,[t("div",yl,[e[99]||(e[99]=t("div",{class:"text-xs text-zinc-500"},"Ticket MÃ©dio",-1)),t("div",wl,C(_e((Qe=(Ye=b.value)==null?void 0:Ye.financeiro)==null?void 0:Qe.ticketMedio)),1)]),t("div",hl,[e[100]||(e[100]=t("div",{class:"text-xs text-zinc-500"},"InadimplÃªncia",-1)),t("div",kl,C(Ie((Ke=(Je=b.value)==null?void 0:Je.financeiro)==null?void 0:Ke.inadimplencia)),1)])])):x("",!0),i.value.w_chart_mob_ranking&&ae.value.length||i.value.w_kpi_mobility&&G.value?(c(),u("div",Cl,[i.value.w_chart_mob_ranking?(c(),u("div",Sl,[e[101]||(e[101]=t("div",{class:"text-sm font-medium mb-2"},"Quem mais viajou",-1)),t("div",zl,[(c(!0),u(de,null,ft(ae.value.slice(0,3),(o,ne)=>(c(),u("div",{key:o.cooperadoId,class:"p-3 rounded border border-zinc-200 relative cursor-pointer",onClick:bt=>F({cooperadoId:o.cooperadoId})},[t("div",{class:R(["absolute -top-2 -left-2 text-2xl",ne===0?"":"opacity-80"])},C(ne===0?"ðŸ¥‡":ne===1?"ðŸ¥ˆ":"ðŸ¥‰"),3),t("div",Al,[t("div",{class:R(["w-12 h-12 rounded-full bg-zinc-800 text-zinc-100 flex items-center justify-center ring-2",ne===0?"ring-yellow-600":ne===1?"ring-zinc-400":"ring-amber-700"])},C(Le(o.nome)),3),t("div",null,[t("div",Ol,C(o.nome),1),t("div",Ml,[l(n,{value:o.distancia_km,formatter:bt=>M(Math.round(bt))+" km"},null,8,["value","formatter"])])])])],8,Dl))),128))]),t("div",Il,[(c(!0),u(de,null,ft(ae.value.slice(3),o=>(c(),u("div",{key:o.cooperadoId,class:"cursor-pointer",onClick:ne=>F({cooperadoId:o.cooperadoId})},[t("div",El,[t("div",Ul,[t("div",Pl,C(Le(o.nome)),1),t("span",Ll,C(o.nome),1)]),t("span",Tl,C(M(o.distancia_km))+" km",1)]),t("div",Vl,[t("div",{class:"h-2 bg-yellow-600 rounded",style:os({width:Math.max(4,Math.round(o.distancia_km/Vt.value*100))+"%"})},null,4)])],8,Fl))),128))])])):x("",!0),i.value.w_kpi_mobility&&G.value?(c(),u("div",Nl,[e[111]||(e[111]=t("div",{class:"text-sm font-medium mb-2"},"Resumo de Mobilidade",-1)),t("div",Rl,[t("div",jl,[e[102]||(e[102]=t("div",{class:"text-[11px] text-zinc-500"},"DistÃ¢ncia mÃ©dia por cooperado",-1)),t("div",$l,[l(n,{value:G.value.avg_distance_km,formatter:o=>M(Math.round(o))+" km"},null,8,["value","formatter"])])]),t("div",ql,[e[103]||(e[103]=t("div",{class:"text-[11px] text-zinc-500"},"Tempo mÃ©dio de deslocamento",-1)),t("div",Bl,[l(n,{value:G.value.avg_travel_min,formatter:o=>M(Math.round(o))+" min"},null,8,["value","formatter"])])]),t("div",Gl,[e[104]||(e[104]=t("div",{class:"text-[11px] text-zinc-500"},"Total de km (perÃ­odo)",-1)),t("div",Hl,[l(n,{value:G.value.total_km,formatter:o=>M(Math.round(o))+" km"},null,8,["value","formatter"])])]),i.value.w_kpi_coop_compliance&&V.value?(c(),u("div",Wl,[e[109]||(e[109]=t("div",{class:"text-sm font-medium mb-2"},"Cooperados: Compliance",-1)),t("div",Yl,[t("div",{class:"card p-2 border-l-2 border-yellow-600 cursor-pointer",onClick:e[35]||(e[35]=o=>se({missing:"photo"}))},[e[105]||(e[105]=t("div",{class:"text-[11px] text-zinc-500"},"Perfis sem foto",-1)),t("div",Ql,[l(n,{value:V.value.missing_photo,formatter:o=>M(Math.round(o))},null,8,["value","formatter"])])]),t("div",{class:"card p-2 border-l-2 border-yellow-600 cursor-pointer",onClick:e[36]||(e[36]=o=>se({missing:"background_check"}))},[e[106]||(e[106]=t("div",{class:"text-[11px] text-zinc-500"},"Sem atestado de antecedentes criminais",-1)),t("div",Jl,[l(n,{value:V.value.missing_background_check,formatter:o=>M(Math.round(o))},null,8,["value","formatter"])])]),t("div",{class:"card p-2 border-l-2 border-yellow-600 cursor-pointer",onClick:e[37]||(e[37]=o=>se({missing:"medical"}))},[e[107]||(e[107]=t("div",{class:"text-[11px] text-zinc-500"},"Sem atestado mÃ©dico",-1)),t("div",Kl,[l(n,{value:V.value.missing_medical_certificate,formatter:o=>M(Math.round(o))},null,8,["value","formatter"])])]),t("div",{class:"card p-2 border-l-2 border-yellow-600 cursor-pointer",onClick:e[38]||(e[38]=o=>se({missing:"functions"}))},[e[108]||(e[108]=t("div",{class:"text-[11px] text-zinc-500"},"Sem funÃ§Ãµes preenchidas",-1)),t("div",Xl,[l(n,{value:V.value.missing_functions,formatter:o=>M(Math.round(o))},null,8,["value","formatter"])])])])])):x("",!0),t("div",Zl,[e[110]||(e[110]=t("div",{class:"text-[11px] text-zinc-500"},"Custo estimado de transporte",-1)),t("div",ea,[l(n,{value:G.value.estimated_cost_brl,formatter:o=>_e(o)},null,8,["value","formatter"])])])])])):x("",!0)])):x("",!0),i.value.w_chart_mob_flows?(c(),u("div",ta,[e[112]||(e[112]=t("div",{class:"text-sm font-medium mb-2"},"Fluxos: origem â†’ destino",-1)),l(a,{type:"heatmap",height:"300",options:Kt.value,series:Jt.value},null,8,["options","series"])])):x("",!0),i.value.w_kpi_qualidade?(c(),u("div",sa,[t("div",oa,[e[113]||(e[113]=t("div",{class:"text-xs text-zinc-500"},"Documentos Vencidos",-1)),t("div",la,C(M((Ze=(Xe=b.value)==null?void 0:Xe.qualidade)==null?void 0:Ze.documentosVencidos)),1)]),t("div",aa,[e[114]||(e[114]=t("div",{class:"text-xs text-zinc-500"},"Treinamentos Pendentes",-1)),t("div",ia,C(M((tt=(et=b.value)==null?void 0:et.qualidade)==null?void 0:tt.treinamentosPendentes)),1)]),t("div",na,[e[115]||(e[115]=t("div",{class:"text-xs text-zinc-500"},"SatisfaÃ§Ã£o MÃ©dia",-1)),t("div",da,C(M((ot=(st=b.value)==null?void 0:st.qualidade)==null?void 0:ot.satisfacaoMedia)),1)])])):x("",!0),t("div",ra,[e[122]||(e[122]=t("div",{class:"text-sm font-medium mb-2"},"Compliance geral",-1)),t("div",ua,[t("div",null,[e[121]||(e[121]=t("div",{class:"text-[11px] text-zinc-500"},"PendÃªncias totais",-1)),t("div",ca,[l(n,{value:Wt.value},null,8,["value"])]),t("div",va,[t("div",pa,[e[116]||(e[116]=t("span",null,"Clientes",-1)),t("strong",null,[l(n,{value:Se.value},null,8,["value"])])]),t("div",ma,[e[117]||(e[117]=t("span",null,"Eventos",-1)),t("strong",null,[l(n,{value:ze.value},null,8,["value"])])]),t("div",xa,[e[118]||(e[118]=t("span",null,"Financeiro",-1)),t("strong",null,[l(n,{value:De.value},null,8,["value"])])]),t("div",_a,[e[119]||(e[119]=t("span",null,"SLAs",-1)),t("strong",null,[l(n,{value:Ae.value},null,8,["value"])])]),t("div",ba,[e[120]||(e[120]=t("span",null,"Cooperados",-1)),t("strong",null,[l(n,{value:Oe.value},null,8,["value"])])])])]),t("div",fa,[l(a,{type:"donut",height:"240",options:Qt.value,series:Yt.value},null,8,["options","series"])])])]),i.value.w_chart_series_solic||i.value.w_chart_status_pizza?(c(),u("div",ga,[i.value.w_chart_series_solic?(c(),u("div",ya,[e[123]||(e[123]=t("div",{class:"text-sm font-medium mb-2"},"EvoluÃ§Ã£o de SolicitaÃ§Ãµes",-1)),l(a,{type:"line",height:"260",options:Ot.value,series:At.value},null,8,["options","series"])])):x("",!0),i.value.w_chart_status_pizza?(c(),u("div",wa,[e[124]||(e[124]=t("div",{class:"text-sm font-medium mb-2"},"Status dos Eventos",-1)),l(a,{type:"donut",height:"260",options:It.value,series:Mt.value},null,8,["options","series"])])):x("",!0)])):x("",!0),i.value.w_chart_top_clientes||i.value.w_chart_fin_previsto?(c(),u("div",ha,[i.value.w_chart_top_clientes?(c(),u("div",ka,[e[125]||(e[125]=t("div",{class:"text-sm font-medium mb-2"},"Top 10 Clientes (Faturamento)",-1)),l(a,{type:"bar",height:"320",options:Et.value,series:Ft.value},null,8,["options","series"])])):x("",!0),i.value.w_chart_fin_previsto?(c(),u("div",Ca,[e[129]||(e[129]=t("div",{class:"mb-2 text-sm font-semibold text-zinc-600"},"Financeiro",-1)),t("div",Sa,[t("div",za,[e[126]||(e[126]=t("div",{class:"text-[11px] text-zinc-500"},"Faturamento Atual (mÃªs)",-1)),t("div",Da,[l(n,{value:Me.value.faturamentoAtual,formatter:o=>_e(o)},null,8,["value","formatter"])])]),t("div",Aa,[e[127]||(e[127]=t("div",{class:"text-[11px] text-zinc-500"},"Receita LÃ­quida (mÃªs)",-1)),t("div",Oa,[l(n,{value:Me.value.receitaLiquidaAtual,formatter:o=>_e(o)},null,8,["value","formatter"])])]),t("div",Ma,[e[128]||(e[128]=t("div",{class:"text-[11px] text-zinc-500"},"PrevisÃ£o (mÃªs)",-1)),t("div",Ia,[l(n,{value:Me.value.previsaoMes,formatter:o=>_e(o)},null,8,["value","formatter"])])])]),l(a,{type:"bar",height:"240",options:Pt.value,series:Ut.value},null,8,["options","series"])])):x("",!0)])):x("",!0),t("div",Fa,[t("div",Ea,[e[130]||(e[130]=t("div",{class:"text-sm font-medium"},"Compliance",-1)),t("div",Ua,[i.value.w_comp_clients&&g.value?(c(),u("button",{key:0,onClick:e[39]||(e[39]=o=>ve.value="clientes"),class:R(["px-2 pb-1 text-xs border-b-2",ee.value==="clientes"?"border-yellow-600 text-zinc-900":"border-transparent text-zinc-500 hover:text-zinc-700"])},"Clientes",2)):x("",!0),i.value.w_comp_events&&D.value?(c(),u("button",{key:1,onClick:e[40]||(e[40]=o=>ve.value="eventos"),class:R(["px-2 pb-1 text-xs border-b-2",ee.value==="eventos"?"border-yellow-600 text-zinc-900":"border-transparent text-zinc-500 hover:text-zinc-700"])},"Eventos",2)):x("",!0),i.value.w_comp_finance&&A.value?(c(),u("button",{key:2,onClick:e[41]||(e[41]=o=>ve.value="financeiro"),class:R(["px-2 pb-1 text-xs border-b-2",ee.value==="financeiro"?"border-yellow-600 text-zinc-900":"border-transparent text-zinc-500 hover:text-zinc-700"])},"Financeiro",2)):x("",!0),i.value.w_comp_slas&&O.value?(c(),u("button",{key:3,onClick:e[42]||(e[42]=o=>ve.value="slas"),class:R(["px-2 pb-1 text-xs border-b-2",ee.value==="slas"?"border-yellow-600 text-zinc-900":"border-transparent text-zinc-500 hover:text-zinc-700"])},"SLAs",2)):x("",!0)])]),ee.value==="clientes"?(c(),u(de,{key:0},[t("div",Pa,[t("div",La,[e[131]||(e[131]=t("div",{class:"text-[11px] text-zinc-500"},"Contratos vencidos",-1)),t("div",Ta,[l(n,{value:((lt=g.value)==null?void 0:lt.expired_contracts)??0},null,8,["value"])])]),t("div",Va,[e[132]||(e[132]=t("div",{class:"text-[11px] text-zinc-500"},"Vencem em 30d",-1)),t("div",Na,[l(n,{value:((at=g.value)==null?void 0:at.expiring_30d)??0},null,8,["value"])])]),t("div",Ra,[e[133]||(e[133]=t("div",{class:"text-[11px] text-zinc-500"},"CNDs pendentes",-1)),t("div",ja,[l(n,{value:((it=g.value)==null?void 0:it.missing_cnds)??0},null,8,["value"])])]),t("div",$a,[e[134]||(e[134]=t("div",{class:"text-[11px] text-zinc-500"},"Cadastro incompleto",-1)),t("div",qa,[l(n,{value:((nt=g.value)==null?void 0:nt.missing_registration)??0},null,8,["value"])])])]),l(a,{type:"donut",height:"220",options:Rt.value,series:Nt.value},null,8,["options","series"])],64)):ee.value==="eventos"?(c(),u(de,{key:1},[t("div",Ba,[t("div",Ga,[e[135]||(e[135]=t("div",{class:"text-[11px] text-zinc-500"},"Checklist incompleto",-1)),t("div",Ha,[l(n,{value:((dt=D.value)==null?void 0:dt.checklist_incomplete)??0},null,8,["value"])])]),t("div",Wa,[e[136]||(e[136]=t("div",{class:"text-[11px] text-zinc-500"},"Escala incompleta",-1)),t("div",Ya,[l(n,{value:((rt=D.value)==null?void 0:rt.escala_incomplete)??0},null,8,["value"])])]),t("div",Qa,[e[137]||(e[137]=t("div",{class:"text-[11px] text-zinc-500"},"Documentos pendentes",-1)),t("div",Ja,[l(n,{value:((ut=D.value)==null?void 0:ut.docs_missing)??0},null,8,["value"])])])]),l(a,{type:"donut",height:"220",options:$t.value,series:jt.value},null,8,["options","series"])],64)):ee.value==="financeiro"?(c(),u(de,{key:2},[t("div",Ka,[t("div",Xa,[e[138]||(e[138]=t("div",{class:"text-[11px] text-zinc-500"},"Notas fiscais pendentes",-1)),t("div",Za,[l(n,{value:((ct=A.value)==null?void 0:ct.nf_pending)??0},null,8,["value"])])]),t("div",ei,[e[139]||(e[139]=t("div",{class:"text-[11px] text-zinc-500"},"DivergÃªncias",-1)),t("div",ti,[l(n,{value:((vt=A.value)==null?void 0:vt.divergencias)??0},null,8,["value"])])]),t("div",si,[e[140]||(e[140]=t("div",{class:"text-[11px] text-zinc-500"},"Tributos inconsistentes",-1)),t("div",oi,[l(n,{value:((pt=A.value)==null?void 0:pt.tax_inconsistencies)??0},null,8,["value"])])])]),l(a,{type:"donut",height:"220",options:Bt.value,series:qt.value},null,8,["options","series"])],64)):(c(),u(de,{key:3},[t("div",li,[t("div",ai,[e[141]||(e[141]=t("div",{class:"text-[11px] text-zinc-500"},"Aceite abaixo da meta",-1)),t("div",ii,[l(n,{value:((mt=O.value)==null?void 0:mt.aceite_below_target)??0},null,8,["value"])])]),t("div",ni,[e[142]||(e[142]=t("div",{class:"text-[11px] text-zinc-500"},"Fill Rate abaixo",-1)),t("div",di,[l(n,{value:((xt=O.value)==null?void 0:xt.fillrate_below_target)??0},null,8,["value"])])]),t("div",ri,[e[143]||(e[143]=t("div",{class:"text-[11px] text-zinc-500"},"Lead time acima",-1)),t("div",ui,[l(n,{value:((_t=O.value)==null?void 0:_t.leadtime_above_target)??0},null,8,["value"])])])]),l(a,{type:"donut",height:"220",options:Ht.value,series:Gt.value},null,8,["options","series"])],64))]),i.value.w_chart_status_monthly?(c(),u("div",ci,[e[144]||(e[144]=t("div",{class:"text-sm font-medium mb-2"},"Status por mÃªs",-1)),l(a,{type:"bar",height:"300",options:Tt.value,series:Lt.value},null,8,["options","series"])])):x("",!0),i.value.w_chart_heatmap_checkins?(c(),u("div",vi,[e[145]||(e[145]=t("div",{class:"text-sm font-medium mb-2"},"Check-ins (hora x dia)",-1)),l(a,{type:"heatmap",height:"300",options:Zt.value,series:Xt.value},null,8,["options","series"])])):x("",!0)])}}});export{gi as default};
